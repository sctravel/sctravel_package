var PKG=PKG||{};PKG.namespace=function(a){var d=a.split("."),c=PKG,b;if(d[0]==="PKG"){d=d.slice(1);}for(b=0;b<d.length;b+=1){if(typeof c[d[b]]==="undefined"){c[d[b]]={};}c=c[d[b]];}return c;};PKG.core={JSON_VERSION_SUFFIX:"_V1",localVars:{},clientLogDomLoaded:function(b,a){if(window.performance&&(!b.errors||b.errors.length==0)){var c=(new Date()).getTime()-window.performance.timing.navigationStart;a=a+"_Regular";if(b.pageState&&b.pageState.readFromCache){a=a+"_Cache";}else{a=a+"_PSS";}a=a+this.JSON_VERSION_SUFFIX;expClientLoggingAdapter.logTrxEvent(a,["clEventName01="+a,"clEventTime01="+c]);}},clientLogAjaxEvent:function(b,a,c){if(c){a=a+"_Regular";if(b.pageState&&b.pageState.readFromCache){a=a+"_Cache";}else{a=a+"_PSS";}a=a+this.JSON_VERSION_SUFFIX;expClientLoggingAdapter.logTrxEvent(a,["clEventName01="+a,"clEventTime01="+((new Date()).getTime()-c)]);}},omnitureTracking:function(e){var g=$("#eapid").val();var f=$("#tpid").val();var c="expedia"+f;var a="expedia"+f+"-"+g;s_BrandEAPIDTable=new Object();s_BrandEAPIDTable["expedia30035-327"]="327";s_BrandEAPIDTable["expedia30036-392"]="392";s_BrandEAPIDTable["expedia30009-314"]="314";s_BrandEAPIDTable["expedia6-10122"]="10122";s_BrandEAPIDTable["expedia30007-711"]="711";s_BrandEAPIDTable["expedia30007-712"]="712";var d="";if("undefined"!=typeof(s_BrandEAPIDTable["${brandEAPID}"])){d=s_BrandEAPIDTable["${brandEAPID}"];}var b=$("#omnitureAccountPostfix").val();if(!b){b="";}if(d.length>0){d+=b;}else{c+=b;}s_exp_isTest=b.length>0;window.s_account=c;$.getScript("/static/default/default/scripts/siteAnalytics.js").done(function(){if(e){this.omniturePostTracking(e);}});},omniturePostTracking:function(a){if("undefined"!=typeof(ProductSiteAnalyticsLogger)&&"undefined"!=typeof(ProductSiteAnalyticsLogger.updateOmniture)&&"undefined"!=typeof(s_exp)){if(a.siteAnalyticsModel){ProductSiteAnalyticsLogger.updateOmniture(s_exp,a.siteAnalyticsModel.omnitureModel.omnitureMap,a.siteAnalyticsModel.omnitureModel.abTests);}}if("undefined"!=typeof(Vsca)&&"undefined"!=typeof(vsca_pageTag)){vsca_pageTag.contexte=s_exp;window.Vsca.audience.tag_page_async({"id":vsca_pageTag.config.pageId,"vsca_pageTag":vsca_pageTag});}},clearOmnitureState:function(a){for(var b=0;b<a.length;b++){delete s_exp[a[b]];}},getQueryStringFromHash:function(a){var d="";if(!a){return d;}for(var b in a){var c=a[b];d+=this.getQuery(b,c);}return d.substring(1);},getQueryHashFromString:function(e){var d={},c;var a=e.split("#")[0].split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d[c[0]]=c[1];}return d;},getQuery:function(c,d){if(d instanceof Array){var e="";for(var b=0;b<d.length;b++){var a=d[b];if(a){e+=this.getQuery(c+"["+b+"]",a);}}return e;}else{return"&"+c+"="+d;}},doesTrackClick:function(c,a,b){if("undefined"!=typeof(s_exp_trackClick)&&s_exp_trackClick){s_exp_trackClick(c,a,b);}},AJAXController:function(a){this.ajaxEvents=a;this.ajaxProcess=null;this.currentSavedState=null;this.stateChangeHandler=function(b){if(this.currentSavedState!=b.fragment){var c=jQuery.bbq.getState();if(c&&!jQuery.isEmptyObject(c)){c=getQueryStringFromHash(c);c=this.formatHistoryStateString(c);}else{this.originalstate=location.search;}this.processHistoryAJAXRequest(c);}};this.submitRequest=function(d,b){if(this.ajaxProcess){this.ajaxProcess.abort();}var c=this.formatHistoryStateString(d);this.currentSavedState=c;jQuery.bbq.pushState(c,2);this.ajaxProcess=$.ajax({type:"POST",url:c,context:this.ajaxEvents,data:b,beforeSend:this.ajaxEvents.start,success:this.ajaxEvents.success,error:this.ajaxEvents.failure,complete:this.ajaxEvents.complete});};this.formatHistoryStateString=function(e){var d="";var c=e.split("&");for(var b=0;b<c.length;b++){if(c[b].substring(0,2)=="c="){continue;}if(b!=0){d+="&"+c[b];}else{d=c[b];}}return d;};this.processHistoryAJAXRequest=function(b){if(this.originalstate==b){history.back(-1);}else{this.ajaxProcess=$.ajax({type:this.getRequestType(),url:this.buildRequestURI(b),context:this.ajaxEvents,data:this.requestParams,beforeSend:this.ajaxEvents.start,success:this.ajaxEvents.success,error:this.ajaxEvents.failure,complete:this.ajaxEvents.complete});}};this.getSavedResponse=function(){return this.ajaxEvents.getSavedResponse();};this.formatHistoryStateString=function(e){var d="";var c=e.split("&");for(var b=0;b<c.length;b++){if(c[b].substring(0,2)=="c="){continue;}if(b!=0){d+="&"+c[b];}else{d=c[b];}}return d;};this.publish=function(b){$(document).trigger(b);};},AJAXEvents:function(c,b,a){this.interstitial=b;this.callBack=c;this.ajaxEventName=a;this.callStartTime=null;this.start=function(e,d){this.callBack.start();this.interstitial.show();this.callStartTime=(new Date()).getTime();};this.complete=function(d,e){this.callStartTime=null;this.interstitial.hide();};this.success=function(e,f,d){if(f=="success"){this.saveResponse(e);PKG.core.clientLogAjaxEvent(e,this.ajaxEventName,this.callStartTime);this.callBack.success(e);}};this.failure=function(d,g,f){this.interstitial.hide();if(g=="abort"){return;}var e={};e.errors=this.createAjaxError(d);this.callBack.failure(e);};this.createAjaxError=function(e){var d="pkg_ajax_error_"+e.status;var f=[];f.push(d);return f;};this.saveResponse=function(g){var e={};if($.browser.msie){e.data=g;var h=450000;var f=JSON.stringify(e);$("input.previousResponse").val(f.substr(0,h));$("input.previousResponseIE1").val(f.substr(h,(h*2)));$("input.previousResponseIE2").val(f.substr((h*2)));}else{if($.browser.webkit||$.browser.safari){var d=$("input.chrome_previousResponse");e.data=g;d.val(JSON.stringify(e));}else{var d=$("input.previousResponse");e.data=g;d.val(JSON.stringify(e));}}};this.getSavedResponse=function(){var d;if($.browser.msie){var g=$("input.previousResponse").val();var f=$("input.previousResponseIE1").val();var e=$("input.previousResponseIE2").val();if(g){d=$.parseJSON(g.concat(f,e));}}else{if($.browser.webkit||$.browser.safari){d=$.parseJSON($("input.chrome_previousResponse").val());}else{d=$.parseJSON($("input.previousResponse").val());}}return d;};},Interstitial:function(a){this.interstitialId=a;this.show=function(){$(this.interstitialId).show();};this.hide=function(){$(this.interstitialId).hide();};}};function jsonABTestLookUp(d,f){var d=d;var c={};var b=/^\d+$/;for(var a=0;a<d.length;a++){var e=b.test(d[a])?true:false;if(e){c={"expid":d[a],"type":"json"};}else{c={"expname":d[a],"type":"json"};}$.ajax({url:"/tools/abacus/test?",data:c,success:function(g){},error:function(g){},complete:function(l){var k=l.responseText;var j=0;var m;var h=k.replace(/<!--([\s\S]*?)-->/mig," ");var g=$.parseJSON(h);if(g.abacus.experimentid!==undefined){m=g.abacus.experimentid.settingfamily;m=m.replace("com.expedia.e3.platform.ab.abacus.client.experiment.byid.id.","");j=g.abacus.experimentid.abvalue;}else{var i=g.abacus.experimentname.settingfamily;m=i.replace("com.expedia.e3.platform.ab.abacus.client.experiment.name.","");j=g.abacus.experimentname.abvalue;}f(m,j);return;}});}}function switchClass(c,b,a){var d=$("#"+c);if(d.hasClass(b)){d.removeClass(b);d.addClass(a);}else{d.removeClass(a);d.addClass(b);}}function toggleClass(b,c){function a(d,e){var f=$("#"+d);f.toggleClass(e);}}function toggleChevron(d,b,a,c){switchClass(d.id,"chevron-down","chevron-up");toggleClass(b,"hide");s_exp_trackClick(d,a,c);}function setFocusOnDepartingDate(){var c=document.getElementById("acol-flight-check-in");var b=document.getElementById("acol-flight-check-out");var a=c.offsetLeft;var d=c.offsetTop;window.scrollTo(a,d);c.value="";b.value="";c.className+=" errHightlight";b.className+=" errHightlight";c.focus();}function runOnclicks(c){var d=c||window.event;if((c.which!="undefined"&&c.which!=3)||(c.button!="undefined"&&c.button!=2)){var b=c.target||c.srcElement;do{if(b&&b.attributes&&b.attributes["data-onclick"]!=undefined){var a=new Function(b.attributes["data-onclick"].value);a.apply(b);}b=b.parentNode;}while(b&&b.tagName!="BODY");}}function callOmniture(b,a,c){if("undefined"!=typeof(s_exp_trackClick)&&s_exp_trackClick){s_exp_trackClick(b,a,c);}}var ProductSiteAnalyticsLogger=(function(){return{updateOmniture:function(g,c,b){if("undefined"!=typeof(g)){try{if("undefined"!=typeof(c)){for(var d in c){g[d]=c[d];
}}}catch(f){}if("undefined"!=typeof(PLSetABTestIDAndValue)&&"undefined"!=typeof(b)){s_exp.prop34="";s_exp.eVar34="";for(var h in b){PLSetABTestIDAndValue(h+"."+b[h]);}}var a=g.t();if(a){document.write(a);}}},updateDoubleClick:function(e,i){var h=Math.random();var d=h*10000000000000;if(e!=""){var e=e+"ord="+d+"?";var g=['<iframe width="1" height="1" frameborder="0" src="',e,'"></iframe>'].join("");var c=document.getElementById("dcOPMContainer");if(c){c.innerHTML=g;}}if(i!=""){var i=i+"ord="+d+"?";var f=['<iframe width="1" height="1" frameborder="0" src="',i,'"></iframe>'].join("");var b=document.getElementById("dcMSContainer");if(b){b.innerHTML=f;}}}};})();$.createXMLDocument=function(d){if(typeof ActiveXObject!="undefined"){var b=new ActiveXObject("MSXML2.DOMDocument");b.loadXML(d);return b.documentElement;}else{if(typeof DOMParser!="undefined"){return(new DOMParser()).parseFromString(d,"application/xml").documentElement;}}var a="data:text/xml;charset=utf-8,"+encodeURIComponent(d);var c=new XMLHttpRequest();c.open("GET",a,false);c.send(null);return c.responseXML.documentElement;};var dateValidator=(function(){var g={MMDDYY:"MM/dd/yyyy",DDMMYY:"dd/MM/yyyy",YYMMDD:"yyyy/MM/dd"};var e={MMDDYY:"^(?:0*[1-9]|1[012])[- /.](?:0*[1-9]|[12][0-9]|3[01])(?:[- /.](?:20)*\\d\\d)*$",DDMMYY:"^(?:0*[1-9]|[12][0-9]|3[01])[- /.](?:0*[1-9]|1[012])(?:[- /.](?:20)*\\d\\d)*$",YYMMDD:"^(?:(?:20)*\\d\\d)[- /.](?:0*[1-9]|1[012])[- /.](?:0*[1-9]|[12][0-9]|3[01])*$"};function h(j,i){return new RegExp(i).test(j);}function d(m,l){var j=m.replace(/-/g,"/").replace(/\./g,"/");var i=l.replace(/-/g,"/").replace(/\./g,"/");var k=false;switch(j){case g.DDMMYY:k=h(i,e.DDMMYY);break;case g.MMDDYY:k=h(i,e.MMDDYY);break;case g.YYMMDD:k=h(i,e.YYMMDD);break;}if(k){return b(i,j);}else{return null;}}function b(n,p){var i=n.split(new RegExp("[- /.]"));var k=c(i,p);var m=a(i,p);var l=f(i,p);var o=false;if((l%400==0)||(l%100!=0&&l%4==0)){o=true;}var j=28;if(m==1||m==3||m==5||m==7||m==8||m==10||m==12){j=31;}else{if(m==4||m==6||m==9||m==11){j=30;}else{if(m==2&&o==true){j=29;}}}if(k<=j){return new Date(l,m-1,k);}else{return null;}}function c(k,j){var i=0;switch(j){case g.DDMMYY:i=parseInt(k[0],10);break;case g.MMDDYY:i=parseInt(k[1],10);break;case g.YYMMDD:i=parseInt(k[2],10);break;}return i;}function a(k,j){var i=0;switch(j){case g.DDMMYY:case g.YYMMDD:i=parseInt(k[1],10);break;case g.MMDDYY:i=parseInt(k[0],10);break;}return i;}function f(k,j){var i=0;switch(j){case g.DDMMYY:case g.MMDDYY:if(k.length>2){if(k[2].length==2){i=parseInt("20"+k[2],10);}else{i=parseInt(k[2],10);}}else{i=new Date().getFullYear();}break;case g.YYMMDD:i=parseInt(k[0],10);break;}return i;}return{parseDate:function(j,i){return d(j,i);}};})();function checkDateBeforeToday(b,e,d){var c=new Date();var a=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(e<a){addClassName(b,"errHightlight");outErrorList[d]=ERRORLIST[d];return false;}return true;}function checkinAfterCheckout(b,a,c,d){if(c<=a){addClassName(b,"errHightlight");outErrorList[d]=ERRORLIST[d];return false;}return true;}function checkDateRange(b,a,c){if(c<a){addClassName(b,"errHightlight");outErrorList["checkDateRange"]=ERRORLIST["checkDateRange"];}}function checkSingleChild(a){var i=document.getElementById(a+"-room-num");var b=parseInt(i.options[i.selectedIndex].value);for(var g=1;g<=b;g++){var j=document.getElementById(a+"-room"+g+"-children");var h=parseInt(j.options[j.selectedIndex].value);if(h!=0){var c=document.getElementById(a+"-room"+g+"-adults");var d=parseInt(c.options[c.selectedIndex].value);if(d==0){var f=document.getElementById(a+"-room"+g+"-seniors");var e=parseInt(f.options[f.selectedIndex].value);if(e==0){addClassName(c,"errHightlight");addClassName(f,"errHightlight");addClassName(j,"errHightlight");outErrorList["singleChild"]=ERRORLIST["singleChild"];}}}}}function checkLapCount(d){var p=document.getElementById(d+"-infant-without-seat");if(p&&p.checked){var n=document.getElementById(d+"-room-num");var e=parseInt(n.options[n.selectedIndex].value);var f=0;var g=0;var m=0;var b=0;for(var l=1;l<=e;l++){var h=document.getElementById(d+"-room"+l+"-adults");f+=parseInt(h.options[h.selectedIndex].value);var i=document.getElementById(d+"-room"+l+"-seniors");g+=parseInt(i.options[i.selectedIndex].value);var o=document.getElementById(d+"-room"+l+"-children");var k=parseInt(o.options[o.selectedIndex].value);for(var j=1;j<=k;j++){var c=document.getElementById(d+"-room"+l+"-child"+j+"-age");var a=parseInt(c.options[c.selectedIndex].value);if(a<=1){b+=1;}else{if(a>=12){m+=1;}}}}if(f+g+m<b){outErrorList["numChildrenInLap"]=ERRORLIST["numChildrenInLap"];}}}function validatePackageWizard(f,l,k){var j=document.getElementById("searchButton");if(j!=null&&hasClassName(j,"btn-disabled")){return false;}clearErrorInfo(k);checkRequired(document.getElementById(f+"-leaving-from"));var a=document.getElementById(f+"-going-to");if(a.type=="text"){checkRequired(a);}var n=document.getElementById(f+"-flight-check-in");var h=document.getElementById(f+"-flight-check-out");var i=checkDateRequired(n);var c=checkDateRequired(h);if(i!=false){i=checkDateFormat(n,i);}if(c!=false){c=checkDateFormat(h,c);}if(i!=false){checkDateBeforeToday(n,i,"departingBeforeToday");}if(c!=false){checkDateBeforeToday(h,c,"returningBeforeToday");}if(i!=false&&c!=false){checkinAfterCheckout(h,i,c,"departingAfterReturning");}if(document.getElementById(f+"-hotel-part-trip").checked){var o=document.getElementById(f+"-hotel-check-in");var e=document.getElementById(f+"-hotel-check-out");var b=checkDateRequired(o);var d=checkDateRequired(e);if(b!=false){b=checkDateFormat(o,b);}if(d!=false){d=checkDateFormat(e,d);}if(b!=false){checkDateBeforeToday(o,b,"checkinBeforeToday");}if(d!=false){checkDateBeforeToday(e,d,"checkoutBeforeToday");}if(b!=false&&d!=false){if(checkinAfterCheckout(e,b,d,"checkinAfterCheckout")){checkDateRange(o,i,b);checkDateRange(o,b,c);checkDateRange(e,d,c);}}}checkOriginDestinationSimilar(f);checkTotalTravellers(f);checkChildAge(f,l);checkSingleChild(f);checkLapCount(f);var m="";for(var g in outErrorList){m+="<p class='normalText'>";m+="<span class='xp-w-errIcon'>";m+="</span>";m+=outErrorList[g];m+="</p>";}document.getElementById(f+"-ErrDiv").innerHTML=m;if(m!=""){setErrorFieldFocusOn(k);return false;}searchWizardSetRfrrIds(f,l);return true;}function clearErrorInfo(c){outErrorList={};if(document.getElementById("acol-errorDiv")!=null){document.getElementById("acol-errorDiv").innerHTML="";}if(document.getElementById("bcol-ErrorDiv")!=null){document.getElementById("bcol-ErrorDiv").innerHTML="";}if(document.getElementById("alternateDatesContent")){document.getElementById("alternateDatesContent").innerHTML="";}for(var b=0;b<c.length;b++){var a=c[b];if((a.type=="text"||a.type=="select-one")){removeClassName(a,"required");removeClassName(a,"errHightlight");}}}function setErrorFieldFocusOn(c){for(var b=0;b<c.length;b++){var a=c[b];if((a.type=="text"||a.type=="select-one")&&hasClassName(a,"errHightlight")){a.focus();break;}}}function checkRequired(a){if(stringTrim(a.value)==""){addClassName(a,"errHightlight");outErrorList["required"]=ERRORLIST["required"];}}function checkOriginDestinationSimilar(c){var a=document.getElementById(c+"-leaving-from");var b=document.getElementById(c+"-going-to");var d=b.type=="text"?b.value:b.innerHTML;if(stringTrim(a.value)!=""&&a.value.toLowerCase()==d.toLowerCase()){if(b.type=="text"){addClassName(b,"errHightlight");}else{addClassName(a,"errHightlight");}outErrorList["originDestSimilar"]=ERRORLIST["originDestSimilar"];}}function partTripOnCheck(e,d){var c=document.getElementById(e+"-hotel-part-trip-date");var b=document.getElementById(e+"-hotel-check-in");var a=document.getElementById(e+"-hotel-check-out");if(d.checked){removeClassName(c,"hide");b.disabled=false;a.disabled=false;}else{addClassName(c,"hide");b.disabled=true;a.disabled=true;}dateRequiredHighlight(b);dateRequiredHighlight(a);}function roomNumOnchange(c,e){var d=parseInt(e.options[e.selectedIndex].value);var b=parseInt(e.options[e.options.length-1].value);
var f=false;if(document.getElementById("isInfosite1Column")!=null){f=document.getElementById("isInfosite1Column").value;}childAgeOnchange(c);if(document.getElementById(c+"-room1-label")!=null&&!f){if(d<=1){addClassName(document.getElementById(c+"-room1-label"),"hide");}else{removeClassName(document.getElementById(c+"-room1-label"),"hide");}}for(var j=1;j<=b;j++){var g=document.getElementById(c+"-room"+j+"-set");var h=document.getElementById(c+"-room"+j+"-adults");var i=document.getElementById(c+"-room"+j+"-seniors");var a=document.getElementById(c+"-room"+j+"-children");if(j<=d){removeClassName(g,"hide");h.disabled=false;if(h.value==0&&i.value==0&&a.value==0){h.value=2;}i.disabled=false;a.disabled=false;}else{h.disabled=true;i.disabled=true;a.disabled=true;addClassName(g,"hide");}}}function childrenNumOnchange(e,h,b){childAgeOnchange(e);var i=document.getElementById(e+"-room"+b+"-children");var d=i.options[i.options.length-1].value;var j=document.getElementById(e+"-room"+b+"-child-info");var a=document.getElementById(e+"-room"+b+"-child-list");if(h==0){if(j!=null){addClassName(j,"hide");}addClassName(a,"hide");}else{if(j!=null){removeClassName(j,"hide");}removeClassName(a,"hide");for(var g=1;g<=d;g++){var f=document.getElementById(e+"-room"+b+"-child"+g);var c=document.getElementById(e+"-room"+b+"-child"+g+"-age");if(g<=h){removeClassName(f,"hide");c.disabled=false;}else{addClassName(f,"hide");c.disabled=true;}}}}function childAgeOnchange(d){var k=document.getElementById(d+"-room-num");var e=k.options[k.selectedIndex].value;var f=document.getElementById(d+"-infant-info");var g=document.getElementById(d+"-infant-without-seat");var b=document.getElementById(d+"-infant-with-seat");for(var j=1;j<=e;j++){var l=document.getElementById(d+"-room"+j+"-children");var i=parseInt(l.options[l.selectedIndex].value);for(var h=1;h<=i;h++){var c=document.getElementById(d+"-room"+j+"-child"+h+"-age");var a=parseInt(c.options[c.options.selectedIndex].value);if(a==0||a-1==0){if(f!=null){removeClassName(f,"hide");}if(g!=null){g.disabled=false;}if(b!=null){b.disabled=false;}return;}}}if(f!=null){addClassName(f,"hide");}if(g!=null){g.disabled=true;}if(b!=null){b.disabled=true;}}var outErrorList={};function hasClassName(a,c){if(a.className){var b=new RegExp("(\\s|^)"+c+"(\\s|$)");return a.className.match(b);}return false;}function addClassName(a,b){if(!hasClassName(a,b)){a.className+=" "+b;}}function removeClassName(a,c){while(hasClassName(a,c)){var b=new RegExp("(\\s|^)"+c+"(\\s|$)");a.className=a.className.replace(b," ");}}function stringTrim(a){return a.replace(/(^\s*)|(\s*$)/g,"");}function packageSearchInit(h){partTripOnCheck(h,document.getElementById(h+"-hotel-part-trip"));var b=document.getElementById(h+"-room-num");if(b!=null){roomNumOnchange(h,b);var a=parseInt(b.options[b.selectedIndex].value);for(var f=1;f<=a;f++){var g=document.getElementById(h+"-room"+f+"-children");var d=parseInt(g.options[g.selectedIndex].value);childrenNumOnchange(h,d,f);}}inputRequiredHighlight(document.getElementById(h+"-leaving-from"));dateRequiredHighlight(document.getElementById(h+"-flight-check-in"));dateRequiredHighlight(document.getElementById(h+"-flight-check-out"));var c=function(){setTimeout(function(){dateRequiredHighlight(document.getElementById(h+"-flight-check-out"));},1);};var e=function(){setTimeout(function(){dateRequiredHighlight(document.getElementById(h+"-hotel-check-out"));},1);};$("#"+h+"-flight-check-in").blur(c);$("#"+h+"-hotel-check-in").blur(e);registerPackageWizardCalendar(h+"-hotel");registerPackageWizardCalendar(h+"-flight");toggleAddRoomButton();toggleRemoveRoomButton();}function clearInput(){for(var a=0;a<arguments.length;a++){if($("#"+arguments[a])){$("#"+arguments[a]).remove();}}}function inputRequiredHighlight(a){if(stringTrim(a.value)==""){addClassName(a,"errHightlight");}else{removeClassName(a,"errHightlight");}}var searchWizardRfrrIds=new Array();Array.prototype.hasOmnitureTag=(!Array.indexOf?function(b){var a=this.length+1;while(a-=1){if(this[a-1]===b){return true;}}return false;}:function(a){return(this.indexOf(a)!==-1);});function searchWizardAddRfrrId(a){if(!isInfosite){if(!searchWizardRfrrIds.hasOmnitureTag(a)){searchWizardRfrrIds.push(a);}return true;}}function searchWizardSetRfrrIds(e,f){if(isInfosite){document.getElementById("acol-hid-rfrr-ids").value="PKG.InfoSite.HotelWizard.SearchForHotelsButton";}else{var b=["flight-check-in","flight-check-out","hotel-check-in","hotel-check-out"];for(var d=0;d<4;d++){var a=document.getElementById(e+"-hid-"+b[d]);var i=dateValidator.parseDate(getRegularDateFormat,a.value);var h=document.getElementById(e+"-"+b[d]);var c=dateValidator.parseDate(getRegularDateFormat,h.value);if(i>c||i<c){searchWizardAddRfrrId("PKG."+f+".Refine.Date");}}if(document.getElementById(e+"-hid-room-num").value!=document.getElementById(e+"-room-num").value){searchWizardAddRfrrId("PKG."+f+".Refine.Rooms");searchWizardAddRfrrId("PKG."+f+".Refine.Passengers");}if(document.getElementById(e+"-hotel-part-trip").checked){searchWizardAddRfrrId("PKG."+f+".Refine.PartialStay");}var g=searchWizardRfrrIds.join("|");if(g==""){document.getElementById("acol-hid-rfrr-ids").disabled=true;}else{document.getElementById("acol-hid-rfrr-ids").value=g;}}}function checkDateRequired(a){if(stringTrim(a.value)==""||a.value==getRegularDateFormat){addClassName(a,"errHightlight");outErrorList["required"]=ERRORLIST["required"];return false;}return a.value;}function checkDateFormat(b,c){var a=dateValidator.parseDate(getRegularDateFormat,c);if(a==null){addClassName(b,"errHightlight");outErrorList["dateFormat"]=ERRORLIST["dateFormat"];return false;}return a;}function dateRequiredHighlight(a){if(stringTrim(a.value)==""){addClassName(a,"errHightlight");}else{if(stringTrim(a.value)==getRegularDateFormat){addClassName(a,"errHightlight");}else{removeClassName(a,"errHightlight");}}}function registerPackageWizardCalendar(a){window.calendarCtrl.register(document.getElementById(a+"-check-in"),document.getElementById(a+"-check-out"),minCalendarOffset,maxCalendarOffset);}function checkChildAge(c,e){var i=document.getElementById(c+"-room-num");var d=parseInt(i.options[i.selectedIndex].value);for(var g=1;g<=d;g++){var j=document.getElementById(c+"-room"+g+"-children");var h=parseInt(j.options[j.selectedIndex].value);for(var f=1;f<=h;f++){var b=document.getElementById(c+"-room"+g+"-child"+f+"-age");var a=parseInt(b.options[b.options.selectedIndex].value);if(a+1==0){addClassName(b,"errHightlight");outErrorList["noChildAge"]=ERRORLIST["noChildAge"];}else{if(a<infantInLapAgePlusOne){if(document.getElementById(c+"-infant-without-seat").checked){searchWizardAddRfrrId("PKG."+e+".Refine.InfantInLap");}else{searchWizardAddRfrrId("PKG."+e+".Refine.InfantInSeat");}}}}}}function checkTotalTravellers(a){var c=0;var e=0;var d=0;var i=document.getElementById(a+"-room-num");var b=parseInt(i.options[i.selectedIndex].value);for(var h=1;h<=b;h++){var f=document.getElementById(a+"-room"+h+"-adults");c+=parseInt(f.options[f.selectedIndex].value);var g=document.getElementById(a+"-room"+h+"-seniors");c+=parseInt(g.options[g.selectedIndex].value);var j=document.getElementById(a+"-room"+h+"-children");c+=parseInt(j.options[j.selectedIndex].value);if(c==e){d=1;}e=c;}if(d==1||c<1||c>maxTotalTravellers){for(var h=1;h<=b;h++){addClassName(document.getElementById(a+"-room"+h+"-adults"),"errHightlight");addClassName(document.getElementById(a+"-room"+h+"-seniors"),"errHightlight");addClassName(document.getElementById(a+"-room"+h+"-children"),"errHightlight");}if(d==0){outErrorList["travellerNumRange"]=ERRORLIST["travellerNumRange"];}else{outErrorList["travellerNumRoomEmpty"]=ERRORLIST["travellerNumRoomEmpty"];}}}function openFromBar(){removeClassName(document.getElementById("fromBar"),"hide");addClassName(document.getElementById("fromBarCollapsed"),"hide");}function openTripDetailsBar(){removeClassName(document.getElementById("hotel-details"),"hide");addClassName(document.getElementById("hotel-summary"),"hide");}function addRoom(c){var i=document.getElementById(c+"-room-num");
var d=parseInt(i.options[i.selectedIndex].value);var b=document.getElementById(c+"-maxRooms").value;if(d<b){var h=d+1;var e=document.getElementById(c+"-room"+h+"-set");var f=document.getElementById(c+"-room"+h+"-adults");var g=document.getElementById(c+"-room"+h+"-seniors");var a=document.getElementById(c+"-room"+h+"-children");removeClassName(e,"hide");f.disabled=false;f.value=2;g.disabled=false;a.disabled=false;i.selectedIndex=h-1;toggleAddRoomButton();toggleRemoveRoomButton();}}function toggleAddRoomButton(){var c=document.getElementById("acol-room-num");var b=parseInt(c.options[c.selectedIndex].value);var d=document.getElementById("acol-maxRooms");var a=document.getElementById("addRoom");if(b!=null&&d!=null){if(b==d.value){a.disabled=true;disableAnchor(a,true);}else{a.disabled=false;disableAnchor(a,false);}}}function removeRoom(o,n){var m=document.getElementById(o+"-room-num");var k=parseInt(m.options[m.selectedIndex].value);if(n<k){for(var u=n;u<k;u++){var r=u+1;document.getElementById(o+"-room"+u+"-adults").value=document.getElementById(o+"-room"+r+"-adults").value;document.getElementById(o+"-room"+u+"-seniors").value=document.getElementById(o+"-room"+r+"-seniors").value;document.getElementById(o+"-room"+u+"-children").value=document.getElementById(o+"-room"+r+"-children").value;var i=document.getElementById(o+"-room"+r+"-children");var l=i.options[i.options.length-1].value;document.getElementById(o+"-room"+u+"-child-list").className=document.getElementById(o+"-room"+r+"-child-list").className;for(var e=1;e<=l;e++){document.getElementById(o+"-room"+u+"-child"+e).className=document.getElementById(o+"-room"+r+"-child"+e).className;var c=document.getElementById(o+"-room"+u+"-child"+e+"-age");var s=document.getElementById(o+"-room"+r+"-child"+e+"-age");var g=s.options.selectedIndex;c.options.selectedIndex=g;document.getElementById(o+"-room"+u+"-child"+e+"-age").disabled=document.getElementById(o+"-room"+r+"-child"+e+"-age").disabled;}}}var a=document.getElementById(o+"-room"+k+"-set");var q=document.getElementById(o+"-room"+k+"-adults");var p=document.getElementById(o+"-room"+k+"-seniors");var h=document.getElementById(o+"-room"+k+"-children");var j=document.getElementById(o+"-room"+k+"-child-list");addClassName(a,"hide");q.value=0;q.disabled=true;p.value=0;p.disabled=true;h.value=0;h.disabled=true;addClassName(j,"hide");var v=document.getElementById(o+"-room"+k+"-children");var f=v.options[v.options.length-1].value;for(var d=1;d<=f;d++){var b=document.getElementById(o+"-room"+k+"-child"+e);var t=document.getElementById(o+"-room"+k+"-child"+e+"-age");if(t!=null&&b!=null){t.selectedIndex=0;addClassName(b,"hide");t.disabled=true;}}m.selectedIndex=k-2;childAgeOnchange(o);toggleAddRoomButton();toggleRemoveRoomButton();}function toggleRemoveRoomButton(){var c=document.getElementById("acol-room-num");var a=parseInt(c.options[c.selectedIndex].value);var b=document.getElementById("acol-room1-removeRoom");if(b!=null){if(a==1){b.disabled=true;disableAnchor(b,true);}else{b.disabled=false;disableAnchor(b,false);}}}function enableSearchButton(){var a=document.getElementById("searchButton");removeClassName(a,"btn-disabled");addClassName(a,"btn-alt");}$(".toggle-span > .toggle").live("click",function(a){a.preventDefault();$("> span",this).toggle();});function expandSearchBox(){var a=document.getElementById("packagewizard");if(a.style.display=="none"){uitk.toggle.animateSlide("#changeSearch","#changeSearchLink");$("> span","#changeSearchLink").toggle();}}function disableAnchor(d,b){if(b){var a=d.getAttribute("href");if(a&&a!=""&&a!=null){d.setAttribute("href_bak",a);}d.removeAttribute("href");d.style.color="gray";d.style.textDecoration="none";}else{var c=d.getAttribute("href_bak");if(c&&c!=""&&c!=null){d.setAttribute("href",d.attributes["href_bak"].nodeValue);d.removeAttribute("style");}}}function selectText(a){a.select();}
/*!  generated on 2014-06-05 16:00:10.351 PDT(-0700) in 15 ms  */

/*!  served in 0 ms  */
