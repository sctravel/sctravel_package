if("undefined"==typeof(exp)){var exp={};}if("undefined"==typeof(exp.core)){exp.core={};}if("undefined"==typeof(exp.core.date)){exp.core.date={};}exp.core.date.Calendar=function(a){var b={config:a,rM:[31,28,31,30,31,30,31,31,30,31,30,31],getDateFormat:function(){return this.config.getDateFormat();},getDateSeparator:function(){return this.config.getDateSeparator();},getStartOfWeek:function(){return this.config.getStartOfWeek();},getDateFromString:function(g){if(!g||!g.length){return null;}g=g.replace(/\s+/g,"");if(g.match(/[^-|\d|\.|\/]/)){return null;}var h=g.split(/-|\.|\//);for(var f=0;f<h.length;f++){h[f]=parseInt(h[f],10);}if(!h[1]){return null;}var c,k,l;var e=this.getDateFormat();if(e=="yymmdd"){if(!h[2]){return null;}c=h[1];k=h[2];l=h[0];}else{if(e=="mmddyy"){c=h[0];k=h[1];}else{c=h[1];k=h[0];}if(h[2]){l=h[2];}else{l=this.DefYr(c-1,k);}}var j=new Date().getFullYear();c-=1;if(l.toString().length===2){l+=2000;}if(l<1601||l>4500||c<0||c>11||k<1||k>this.getMonthCount(c,l)){return null;}return new Date(l,c,k);},toStringFromComp:function(i,c,j){function h(d){return d<10?"0"+d:d;}var f="";var g=this.getDateSeparator();var e=this.getDateFormat();i=h(i);c=h(c);if(e=="mmddyy"){f=c+g+i+g+j;}else{if(e=="ddmmyy"){f=i+g+c+g+j;}else{f=j+g+c+g+i;}}return f;},toStringFromDate:function(f){var e="";var g=this.getDateSeparator();var d=this.getDateFormat();var h=f.getMonth()+1;var c=f.getDate();var i=f.getFullYear();if(d=="mmddyy"){e=h+g+c+g+i;}else{if(d=="ddmmyy"){e=c+g+h+g+i;}else{e=i+g+h+g+c;}}return e;},IsLY:function(c){if(0==c%4&&((c%100!=0)||(c%400==0))){return true;}else{return false;}},DefYr:function(c,g){var e=new Date();var f=(e.getYear()<1000)?1900+e.getYear():e.getYear();if(c<e.getMonth()||(c==e.getMonth()&&g<e.getDate())){f++;}return f;},getMonthCount:function(d,f){var e=this.rM[d];if((1==d)&&this.IsLY(f)){e++;}return e;},IsLastDayOfMonth:function(c){return this.getMonthCount(c.getMonth(),c.getFullYear())==c.getDate();},incrementMonth:function(c){if(c.getMonth()==11){c.setMonth(0);c.setFullYear(c.getFullYear()+1);}else{c.setMonth(c.getMonth()+1);}return c;},decrementMonth:function(c){if(c.getMonth()==0){c.setMonth(11);c.setFullYear(c.getFullYear()-1);}else{c.setMonth(c.getMonth()-1);}return c;}};return b;};exp.core.date.DatePickerDisplay=function(a,e,f,b){var d;f=f||0;b=b||0;var c={id:a+"_DPD",path:e,picker:null,setupCalendar:function(j){var i=j.getFrame();var g=j.getContainer();var h=j.picker;i.SteupCal(h.calendar,g,h.calendar.config,function(){h.cancel.apply(h,arguments);},function(){h.update.apply(h,arguments);});},createFrame:function(){if(this.getContainer().length==0){d=this;var h="";h+='<iframe id="'+this.id+'" name="'+this.id+'" src="'+this.path+'" ';h+='style="display:none;position:absolute;width:148px;height:186px;z-index:14802" ';h+='marginheight="0" marginwidth="0" noresize frameborder="0" scrolling="no"></iframe>';var g=$(h);g.load(function(){d.setupCalendar(d);});g.appendTo("body");$("#"+this.id).attr("src",this.path);}},getContainer:function(){return $("#"+this.id);},getFrame:function(){return this.getContainer()[0].contentWindow;},show:function(l,k,m,j,h,g,i){this.hide();this.position((i?k.id:l.id));g_timeOutFn=function(){d.getFrame().DoCal(l,k,m,j,h,g,i);};setTimeout("g_timeOutFn();",1);},position:function(i){var h=$("#"+i);var l=h.offset();var n=l.left;var j=l.top;var o=h.outerHeight();var g=this.getContainer().height();var k=$(document).scrollTop();var m=$(window).height();if(this.getContainer().css("position")=="fixed"){j-=k;}if(j-g>=k&&j+o+g>m+k){j-=g;}else{j+=o;}this.getContainer().css("left",n+f+"px");this.getContainer().css("top",j+b+"px");},hide:function(){this.getContainer().hide();},showers:function(){this.getContainer().show();}};return c;};exp.core.date.DatePickerEntry=function(e,c,g,b,h,d,a){var f={id:e,dateMin:g,dateMax:b,watch:c,range:h,ret:d,callback:a,state:null,show:function(k,j){var l=(this.ret&&this.watch)?$("#"+this.watch.id)[0]:$("#"+this.id)[0];var i=this.ret?$("#"+this.id)[0]:(this.watch)?$("#"+this.watch.id)[0]:null;j.show(l,i,this.dateMin,this.dateMax,this.range,this.state,this.ret);}};return f;};exp.core.date.DatePickerControl=function(e,a,d){var c;var b={createOnDocumentReady:d,calendar:e,floater:a,entries:{},entryCurrent:null,tid:0,getCalendar:function(){return this.calendar;},getFloat:function(){return this.floater;},getCalFrame:function(){return this.floater.getFrame();},getCalObject:function(){return this.floater.getContainer();},register:function(k,q,f,r,h,g,l,i,j,s){this.entries[k.id]=exp.core.date.DatePickerEntry(k.id,l,r,h,i,j,s);c=this;if(this.createOnDocumentReady===2){this.floater.createFrame();}else{if(this.createOnDocumentReady){$(document).ready(function(){c.floater.createFrame();});}else{$(window).load(function(){c.floater.createFrame();});}}var p=$(k);var m=function(t){c.blurEvent(t);};$("body").delegate("#"+k.id,"blur",m);var o=function(t){c.focusEvent(t,k);};$("body").delegate("#"+k.id,"focus",o);var n=function(t){c.clickEvent(t,k);};$("body").delegate("#"+k.id,"click",n);},pick:function(f){window.clearTimeout(this.tid);if(g_fNoCal){return;}if(this.entryCurrent&&this.entryCurrent.id==f.id){return;}this.entryCurrent=this.entries[f.id];this.wait(f);},wait:function(f){if(null==this.getCalFrame().g_fCL||false==this.getCalFrame().g_fCL){g_timeOutFn=function(){c.pick(f);};this.tid=setTimeout("g_timeOutFn()",500);}else{this.show();}},show:function(){this.entryCurrent.show(this,this.floater);},update:function(g,h,f,i){g.value=this.calendar.toStringFromComp(h,f,i);CalSetFocus(g,this.entryCurrent.callback);$(g).change();},cancel:function(f){window.clearTimeout(this.tid);this.tid=0;if(this.entryCurrent){if(f){var h=this.calendar.getDateFromString($("#"+this.entryCurrent.id).val());if(h&&this.calendar.IsLastDayOfMonth(h)){f=this.calendar.incrementMonth(f);}this.entryCurrent.state=f;if(this.entryCurrent.watch){var g=this.entries[this.entryCurrent.watch.id];if(g&&!g.state){g.state=f;}}this.entryCurrent.currentValue=h;}this.getFloat().hide();}this.entryCurrent=null;},callback:function(){if(this.entryCurrent&&this.entryCurrent.callback){this.entryCurrent.callback();}},blurEvent:function(f){f.stopPropagation();return false;},focusEvent:function(f,g){this.pick(g);g.select();f.stopPropagation();return false;},clickEvent:function(f,g){this.pick(g);g.select();f.stopPropagation();return false;}};a.picker=b;return b;};exp.core.date.DateUpdater=function(d,b){var a;var c={config:b,calendar:d,register:function(j,r,m,n,l,u){m=m||0;var s=$(j);var i=this.calendar.getDateFromString(s[0].value);var q=$(r);var h=this.calendar.getDateFromString(q[0].value);var g=this.calendar.getDateSeparator();var f=this.calendar.getDateFormat();var t=f.substring(0,2)+g+f.substring(2,4)+g+f.substring(4,6);var e=new Date();e.setHours(0,0,0,0);if(i&&i.valueOf()<e.valueOf()){s[0].value=t;}if(h&&h.valueOf()<e.valueOf()){q[0].value=t;}a=this;var p=function(){a.update(s[0],q[0],m,n,u);};var o=function(){a.updateByNights(s[0],q[0],m);a.update(s[0],q[0],m,n);};$("body").delegate("#"+j.id,"blur",p);$("body").delegate("#"+j.id,"focus",p);$("body").delegate("#"+r.id,"blur",p);$("body").delegate("#"+r.id,"focus",p);var k=$("#"+j.id+"-stay-nights");if(k.length!=0){k.change(o);k.keypress(o);}},days_between:function(i,h){var j=1000*60*60*24;var g=i.getTime();var f=h.getTime();var e=Math.abs(g-f);return Math.round(e/j);},updateNumberOfNights:function(j,i,e){if(this.config!=undefined&&e.length>0){var f=this.config.getNightTextConfig();var h=this.days_between(i,j);var g=$("#hot-check-in-num-nights-label");e.css("display","inline");if(e.attr("data-days-field-type")=="trip"&&f[2]!=="undefined"&&f[3]!=="undefined"){if(h===1){e.html(f[2]);}else{if(h>0){e.html(f[3].replace("#",h));}else{e.css("display","none");}}}else{if(h>1){if(this.config.getLocaleConfig()=="ko_KR"){e.html(h+f[1]);}else{if(e.attr("class")=="nights-number-only"&&g!=="undefined"){e.html(h);g.html(" "+f[1]);e.css("display","block");g.css("display","block");}else{e.html(h+" "+f[1]);}}}else{if(e.attr("class")=="nights-number-only"&&g!=="undefined"){e.html(1);
g.html(" "+f[1].replace("s",""));e.css("display","block");g.css("display","block");}else{e.html(f[0]);}}}}},updateDateName:function(m,h,n){var f=$("#"+n+m.id+"-date");if(this.config!=undefined&&f.length!=0){try{var o=h.getDate();var e=h.getDay();var i=h.getMonth();if(e==undefined){f.html("");return;}var g=this.config.getSpecialDateConfig().days;var k=this.config.getSpecialDateConfig().daySufix;var l=this.config.getSpecialDateConfig().months;f.html(g[e]+" "+o+k+" "+l[i]+" "+h.getFullYear());}catch(j){f.html("");}}},updateDayName:function(j,f,k){var i=$("#"+k+j.id+"-day");if(this.config!=undefined&&i.length!=0){try{var e=f.getDay();if(e==undefined){i.html("");return;}var h=this.config.getDayNames();i.html(h[e]);}catch(g){i.html("");}}},updateByNights:function(f,g,i){var e=this.calendar.getDateFromString($(f).val());var h=$("#"+f.id+"-stay-nights");if(e){e.setDate(e.getDate()+parseInt(h.get(0).value));$(g).val(this.calendar.toStringFromComp(e.getDate(),e.getMonth()+1,e.getFullYear()));}},update:function(g,m,j,k,q){var n=$(g);var l=$(m);var f=this.calendar.getDateFromString(n.val());var e=this.calendar.getDateFromString(l.val());var h=$("#"+g.id+"-stay-nights");var o=$("#"+g.id+"-num-nights");if(!q||isNaN(parseInt(q))||e){q=0;}this.updateDayName(g,f,"");this.updateDayName(m,e,"");this.updateDayName(g,f,"H-");this.updateDayName(m,e,"H-");this.updateDateName(g,f,"");this.updateDateName(m,e,"");this.updateDateName(g,f,"H-");this.updateDateName(m,e,"H-");if(f&&e){this.updateNumberOfNights(f,e,o);}if(f){if(e&&h.length!=0){var r=Math.round((e-f)/1000/60/60/24);if(r<1){r=h.get(0).value;}h.get(0).value=r;}var p=Math.max(j,q);f=new Date(f.valueOf()+1000*3600*24*p);var i=this.calendar.toStringFromComp(f.getDate(),f.getMonth()+1,f.getFullYear());if(e&&e<=f){e=null;}if(null==e){e=this.calendar.getDateFromString(n.val());this.updateNumberOfNights(e,f,o);if(h.length!=0&&h.get(0).value!=1){f.setDate(f.getDate()+parseInt(h.get(0).value)-1);var i=this.calendar.toStringFromComp(f.getDate(),f.getMonth()+1,f.getFullYear());}l.val(i);if(exp.core.date.datePicker){exp.core.date.datePicker.entries[l.attr("id")].currentValue=f;}this.updateDayName(m,f,"");this.updateDayName(m,f,"H-");this.updateDateName(m,f,"");this.updateDateName(m,f,"H-");}}if(n.is(".fieldDefaultText")){n.removeClass("fieldDefaultText");}if(l.is(".fieldDefaultText")){l.removeClass("fieldDefaultText");}}};return c;};var g_fNoCal=false;function getDatePicker(){return exp.core.date.datePicker;}function getCalendar(a){return a.getCalendar();}function getCalFrame(a){return a.getCalFrame();}function getCalObject(a){return a.getContainer();}function CancelCal(){if(getDatePicker()){getDatePicker().cancel(null);}}function CalEndFocus(a){g_fNoCal=false;if(typeof a=="function"){a();}}function CalSetFocus(b,a){if(b){g_fNoCal=true;b.focus();setTimeout(function(){CalEndFocus(a);},100);}}exp.core.date.CalendarControl=function(){var a=function(){var j="mmddyy";var b="/";var f=0;var e=["January","February","March","April","May","June","July","August","September","October","November","December"];var o=["JAN","FEV","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d=["S","M","T","W","T","F","S"];var g="Close";var k="";var c=["night","nights","night trip","night trip"];var r={days:[],months:[],daySufix:""};var s=function(t){c=t;};var q=function(t,u){j=t;b=u;};var m=function(v,u,t){r.days=v;r.months=u;r.daySufix=t;};var i=function(u,t,w,v){f=u;e=t;d=w;if(v!=undefined){n=v;}};var l=function(u,t,v){f=u;o=t;d=v;};var p=function(t){g=t;};var h=function(t){k=t;};return{setFormatConfig:q,setUnitConfig:i,setSingleUnitConfig:l,setSpecialDateConfig:m,setTextConfig:p,setLocaleConfig:h,setNightTextConfig:s,getDateFormat:function(){return j;},getDateSeparator:function(){return b;},getStartOfWeek:function(){return f;},getSpecialDateConfig:function(){return r;},getMonths:function(){return e;},getSingleMonths:function(){return o;},getDayAbbrs:function(){return d;},getDayNames:function(){return n;},getCloseText:function(){return g;},getLocaleConfig:function(){return k;},getNightTextConfig:function(){return c;}};};return{Config:new a("ddmmyy",".",2)};}();$(document).ready(function(){$(document.documentElement).click(CancelCal);});var main_start=65281;var main_end=65374;var main_subtract=65248;var full_space=12288;var half_space=32;var other_src=new Array(12290,12300,12301,12289,65392,12540,8213,8208,12539);var other_des=new Array(46,91,93,44,45,45,45,45,47);function partMulti2ASC(c){var a="";for(var b=0;b<c.length;b++){code=c.charCodeAt(b);if(code>=main_start&&code<=main_end){a+=String.fromCharCode(code-main_subtract);}else{if(code==full_space){a+=String.fromCharCode(half_space);}else{a+=c.charAt(b);}}}return a;}function wholeMulti2ASC(e){var b=partMulti2ASC(e);var a="";outer:for(var d=0;d<b.length;d++){code=b.charCodeAt(d);for(var c=0;c<other_src.length;c++){if(other_src[c]==code){a+=String.fromCharCode(other_des[c]);continue outer;}}a+=b.charAt(d);}return a;}var calConfig=exp.core.date.CalendarControl.config=exp.core.date.CalendarControl.Config;calConfig.setFormatConfig("mmddyy","/");calConfig.setUnitConfig(0,["January","February","March","April","May","June","July","August","September","October","November","December"],["S","M","T","W","T","F","S"]);calConfig.setTextConfig("Close");var DPDisplay=exp.core.date.datePickerDisplay=exp.core.date.DatePickerDisplay("CalFrame","/static/default/default/html/calendar/v3.0.0/calendar.html");var g_calendar=exp.core.date.calendar=exp.core.date.Calendar(exp.core.date.CalendarControl.config);var g_datepicker=exp.core.date.datePicker=exp.core.date.DatePickerControl(exp.core.date.calendar,DPDisplay,2);function getDatePicker(){return g_datepicker;}var g_dateUpdater=exp.core.date.dateUpdater=exp.core.date.DateUpdater(exp.core.date.calendar);DPDisplay.useAphrodite2=exp.core.date.datePickerDisplay;window.calendarCtrl=(function(){function a(g,e,d,f){if(!exp.core.date.datePicker||!exp.core.date.dateUpdater){b();}c(g,e,d,f);}function c(g,e,d,f){exp.core.date.datePicker.register(g,g,exp.core.date.datePickerDisplay,d,f,null,e,26,false);exp.core.date.datePicker.register(e,e,exp.core.date.datePickerDisplay,d,f,null,g,26,true);exp.core.date.dateUpdater.register(g,e,1,false);}function b(){minDate=minCalendarOffset;maxDate=maxCalendarOffset;}return{register:a};})();
/*!  generated on 2014-06-05 18:49:21.828 PDT(-0700) in 0 ms  */

/*!  served in 0 ms  */
