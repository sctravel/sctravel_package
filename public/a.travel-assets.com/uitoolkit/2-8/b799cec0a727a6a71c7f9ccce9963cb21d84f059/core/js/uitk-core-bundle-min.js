if(!(window.console&&console.log)){(function(){var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=window.console={};while(c--){a[b[c]]=d}}())}(function(){var d=0;var f=["ms","moz","webkit","o"];for(var e=0;e<f.length&&!window.requestAnimationFrame;++e){window.requestAnimationFrame=window[f[e]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[e]+"CancelAnimationFrame"]||window[f[e]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(a,i){var j=new Date().getTime();var c=Math.max(0,16-(j-d));var b=window.setTimeout(function(){a(j+c)},c);d=j+c;return b}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(a){clearTimeout(a)}}}());(function(d){var m="left",l="right",c="up",s="down",b="in",u="out",j="none",o="auto",i="swipe",p="pinch",v="tap",y="horizontal",q="vertical",g="all",e="start",h="move",f="end",n="cancel",a="ontouchstart" in window,w="TouchSwipe";var k={fingers:1,threshold:75,cancelThreshold:25,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};d.fn.swipe=function(B){var A=d(this),z=A.data(w);if(z&&typeof B==="string"){if(z[B]){return z[B].apply(this,Array.prototype.slice.call(arguments,1))}else{d.error("Method "+B+" does not exist on jQuery.swipe")}}else{if(!z&&(typeof B==="object"||!B)){return r.apply(this,arguments)}}return A};d.fn.swipe.defaults=k;d.fn.swipe.phases={PHASE_START:e,PHASE_MOVE:h,PHASE_END:f,PHASE_CANCEL:n};d.fn.swipe.directions={LEFT:m,RIGHT:l,UP:c,DOWN:s,IN:b,OUT:u};d.fn.swipe.pageScroll={NONE:j,HORIZONTAL:y,VERTICAL:q,AUTO:o};d.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:g};function r(z){if(z&&(z.allowPageScroll===undefined&&(z.swipe!==undefined||z.swipeStatus!==undefined))){z.allowPageScroll=j}if(z.click!==undefined&&z.tap===undefined){z.tap=z.click}if(!z){z={}}z=d.extend({},d.fn.swipe.defaults,z);return this.each(function(){var B=d(this);var A=B.data(w);if(!A){A=new x(this,z);B.data(w,A)}})}function x(T,ah){var aK=(a||!ah.fallbackToMouseEvents),aA=aK?"touchstart":"mousedown",V=aK?"touchmove":"mousemove",aw=aK?"touchend":"mouseup",E=aK?null:"mouseleave",S="touchcancel";var ae=0,O=null,ai=0,aG=0,B=0,ak=1,aB=0,aO=0,aa=null;var I=d(T);var P="start";var aJ=0;var aj=null;var J=0,Z=0,aE=0,aQ=0;try{I.bind(aA,au);I.bind(S,M)}catch(aH){d.error("events not supported "+aA+","+S+" on jQuery.swipe")}this.enable=function(){I.bind(aA,au);I.bind(S,M);return I};this.disable=function(){R();return I};this.destroy=function(){R();I.data(w,null);return I};this.option=function(aS,aR){if(ah[aS]!==undefined){if(aR===undefined){return ah[aS]}else{ah[aS]=aR}}else{d.error("Option "+aS+" does not exist on jQuery.swipe.options")}};function au(aT){if(Y()){return}if(d(aT.target).closest(ah.excludedElements,I).length>0){return}var aU=aT.originalEvent?aT.originalEvent:aT;var aS,aR=a?aU.touches[0]:aU;P=e;if(a){aJ=aU.touches.length}else{aT.preventDefault()}ae=0;O=null;aO=null;ai=0;aG=0;B=0;ak=1;aB=0;aj=U();aa=aF();A();if(!a||(aJ===ah.fingers||ah.fingers===g)||aq()){aP(0,aR);J=C();if(aJ==2){aP(1,aU.touches[1]);aG=B=ab(aj[0].start,aj[1].start)}if(ah.swipeStatus||ah.pinchStatus){aS=aI(aU,P)}}else{aS=false}if(aS===false){P=n;aI(aU,P);return aS}else{al(true)}}function Q(aU){var aX=aU.originalEvent?aU.originalEvent:aU;if(P===f||P===n||ag()){return}var aT,aS=a?aX.touches[0]:aX;var aV=W(aS);Z=C();if(a){aJ=aX.touches.length}P=h;if(aJ==2){if(aG==0){aP(1,aX.touches[1]);aG=B=ab(aj[0].start,aj[1].start)}else{W(aX.touches[1]);B=ab(aj[0].end,aj[1].end);aO=ap(aj[0].end,aj[1].end)}ak=z(aG,B);aB=Math.abs(aG-B)}if((aJ===ah.fingers||ah.fingers===g)||!a||aq()){O=at(aV.start,aV.end);D(aU,O);ae=H(aV.start,aV.end);ai=L();aL(O,ae);if(ah.swipeStatus||ah.pinchStatus){aT=aI(aX,P)}if(!ah.triggerOnTouchEnd||ah.triggerOnTouchLeave){var aR=true;if(ah.triggerOnTouchLeave){var aW=av(this);aR=aD(aV.end,aW)}if(!ah.triggerOnTouchEnd&&aR){P=aN(h)}else{if(ah.triggerOnTouchLeave&&!aR){P=aN(f)}}if(P==n||P==f){aI(aX,P)}}}else{P=n;aI(aX,P)}if(aT===false){P=n;aI(aX,P)}}function ac(aT){var aV=aT.originalEvent;if(a){if(aV.touches.length>0){ax();return true}}if(ag()){aJ=aQ}Z=C();if(ah.triggerOnTouchEnd||(ah.triggerOnTouchEnd==false&&P===h)){P=f;var aS=((aJ===ah.fingers||ah.fingers===g)||!a);var aR=aj[0].end.x!==0;var aU=aS&&aR&&(ao()||aC());if(aU){aT.preventDefault();aI(aV,P)}else{P=n;aI(aV,P)}}else{if(!ah.triggerOnTouchEnd&&az()){aT.preventDefault();P=f;an(aV,P,v)}else{if(P===h){aT.preventDefault();P=n;aI(aV,P)}}}al(false)}function M(){aJ=0;Z=0;J=0;aG=0;B=0;ak=1;A();al(false)}function X(aR){var aS=aR.originalEvent;if(ah.triggerOnTouchLeave){P=aN(f);aI(aS,P)}}function R(){I.unbind(aA,au);I.unbind(S,M);I.unbind(V,Q);I.unbind(aw,ac);if(E){I.unbind(E,X)}al(false)}function aN(aU){var aT=aU;var aS=ar();var aR=af();if(!aS){aT=n}else{if(aR&&aU==h&&(!ah.triggerOnTouchEnd||ah.triggerOnTouchLeave)){aT=f}else{if(!aR&&aU==f&&ah.triggerOnTouchLeave){aT=n}}}return aT}function aI(aT,aR){var aS=undefined;if(ad()){aS=an(aT,aR,i)}if(aq()&&aS!==false){aS=an(aT,aR,p)}if(az()&&aS!==false){aS=an(aT,aR,v)}if(aR===n){M(aT)}if(aR===f){if(a){if(aT.touches.length==0){M(aT)}}else{M(aT)}}return aS}function an(aU,aR,aT){var aS=undefined;if(aT==i){I.trigger("swipeStatus",[aR,O||null,ae||0,ai||0,aJ]);if(ah.swipeStatus){aS=ah.swipeStatus.call(I,aU,aR,O||null,ae||0,ai||0,aJ);if(aS===false){return false}}if(aR==f&&aC()){I.trigger("swipe",[O,ae,ai,aJ]);if(ah.swipe){aS=ah.swipe.call(I,aU,O,ae,ai,aJ);if(aS===false){return false}}switch(O){case m:I.trigger("swipeLeft",[O,ae,ai,aJ]);if(ah.swipeLeft){aS=ah.swipeLeft.call(I,aU,O,ae,ai,aJ)}break;case l:I.trigger("swipeRight",[O,ae,ai,aJ]);if(ah.swipeRight){aS=ah.swipeRight.call(I,aU,O,ae,ai,aJ)}break;case c:I.trigger("swipeUp",[O,ae,ai,aJ]);if(ah.swipeUp){aS=ah.swipeUp.call(I,aU,O,ae,ai,aJ)}break;case s:I.trigger("swipeDown",[O,ae,ai,aJ]);if(ah.swipeDown){aS=ah.swipeDown.call(I,aU,O,ae,ai,aJ)}break}}}if(aT==p){I.trigger("pinchStatus",[aR,aO||null,aB||0,ai||0,aJ,ak]);if(ah.pinchStatus){aS=ah.pinchStatus.call(I,aU,aR,aO||null,aB||0,ai||0,aJ,ak);if(aS===false){return false}}if(aR==f&&ao()){switch(aO){case b:I.trigger("pinchIn",[aO||null,aB||0,ai||0,aJ,ak]);if(ah.pinchIn){aS=ah.pinchIn.call(I,aU,aO||null,aB||0,ai||0,aJ,ak)}break;case u:I.trigger("pinchOut",[aO||null,aB||0,ai||0,aJ,ak]);if(ah.pinchOut){aS=ah.pinchOut.call(I,aU,aO||null,aB||0,ai||0,aJ,ak)}break}}}if(aT==v){if(aR===n||aR===f){if((aJ===1||!a)&&(isNaN(ae)||ae===0)){I.trigger("tap",[aU.target]);if(ah.tap){aS=ah.tap.call(I,aU,aU.target)}}}}return aS}function af(){var aR=true;if(ah.threshold!==null){aR=ae>=ah.threshold}if(aR&&ah.cancelThreshold!==null){aR=(N(O)-ae)<ah.cancelThreshold}return aR}function am(){if(ah.pinchThreshold!==null){return aB>=ah.pinchThreshold}return true}function ar(){var aR;if(ah.maxTimeThreshold){if(ai>=ah.maxTimeThreshold){aR=false}else{aR=true}}else{aR=true}return aR}function D(aR,aS){if(ah.allowPageScroll===j||aq()){aR.preventDefault()}else{var aT=ah.allowPageScroll===o;switch(aS){case m:if((ah.swipeLeft&&aT)||(!aT&&ah.allowPageScroll!=y)){aR.preventDefault()}break;case l:if((ah.swipeRight&&aT)||(!aT&&ah.allowPageScroll!=y)){aR.preventDefault()}break;case c:if((ah.swipeUp&&aT)||(!aT&&ah.allowPageScroll!=q)){aR.preventDefault()}break;case s:if((ah.swipeDown&&aT)||(!aT&&ah.allowPageScroll!=q)){aR.preventDefault()}break}}}function ao(){return am()}function aq(){return !!(ah.pinchStatus||ah.pinchIn||ah.pinchOut)}function ay(){return !!(ao()&&aq())}function aC(){var aR=ar();var aT=af();var aS=aT&&aR;return aS}function ad(){return !!(ah.swipe||ah.swipeStatus||ah.swipeLeft||ah.swipeRight||ah.swipeUp||ah.swipeDown)}function F(){return !!(aC()&&ad())}function az(){return !!(ah.tap)}function ax(){aE=C();aQ=event.touches.length+1}function A(){aE=0;aQ=0}function ag(){var aR=false;if(aE){var aS=C()-aE;if(aS<=ah.fingerReleaseThreshold){aR=true}}return aR}function Y(){return !!(I.data(w+"_intouch")===true)}function al(aR){if(aR===true){I.bind(V,Q);I.bind(aw,ac);if(E){I.bind(E,X)}}else{I.unbind(V,Q,false);I.unbind(aw,ac,false);if(E){I.unbind(E,X,false)}}I.data(w+"_intouch",aR===true)}function aP(aS,aR){var aT=aR.identifier!==undefined?aR.identifier:0;aj[aS].identifier=aT;aj[aS].start.x=aj[aS].end.x=aR.pageX||aR.clientX;aj[aS].start.y=aj[aS].end.y=aR.pageY||aR.clientY;return aj[aS]}function W(aR){var aT=aR.identifier!==undefined?aR.identifier:0;var aS=K(aT);aS.end.x=aR.pageX||aR.clientX;aS.end.y=aR.pageY||aR.clientY;return aS}function K(aS){for(var aR=0;aR<aj.length;aR++){if(aj[aR].identifier==aS){return aj[aR]}}}function U(){var aR=[];for(var aS=0;aS<=5;aS++){aR.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return aR}function aL(aR,aS){aS=Math.max(aS,N(aR));aa[aR].distance=aS}function N(aR){return aa[aR].distance}function aF(){var aR={};aR[m]=aM(m);aR[l]=aM(l);aR[c]=aM(c);aR[s]=aM(s);return aR}function aM(aR){return{direction:aR,distance:0}}function L(){return Z-J}function ab(aU,aT){var aS=Math.abs(aU.x-aT.x);var aR=Math.abs(aU.y-aT.y);return Math.round(Math.sqrt(aS*aS+aR*aR))}function z(aR,aS){var aT=(aS/aR)*1;return aT.toFixed(2)}function ap(){if(ak<1){return u}else{return b}}function H(aS,aR){return Math.round(Math.sqrt(Math.pow(aR.x-aS.x,2)+Math.pow(aR.y-aS.y,2)))}function G(aU,aS){var aR=aU.x-aS.x;var aW=aS.y-aU.y;var aT=Math.atan2(aW,aR);var aV=Math.round(aT*180/Math.PI);if(aV<0){aV=360-Math.abs(aV)}return aV}function at(aS,aR){var aT=G(aS,aR);if((aT<=45)&&(aT>=0)){return m}else{if((aT<=360)&&(aT>=315)){return m}else{if((aT>=135)&&(aT<=225)){return l}else{if((aT>45)&&(aT<135)){return s}else{return c}}}}}function C(){var aR=new Date();return aR.getTime()}function av(aR){aR=d(aR);var aT=aR.offset();var aS={left:aT.left,right:aT.left+aR.outerWidth(),top:aT.top,bottom:aT.top+aR.outerHeight()};return aS}function aD(aR,aS){return(aR.x>aS.left&&aR.x<aS.right&&aR.y>aS.top&&aR.y<aS.bottom)}}})(jQuery);var Placeholders=(function(){var p=["text","search","url","tel","email","password","number","textarea"],g={live:false,hideOnFocus:false,className:"placeholderspolyfill",textColor:"#999",styleImportant:true},j=[37,38,39,40],e,d,b=new RegExp("\\b"+g.className+"\\b");function n(s){var r;if(s.createTextRange){r=s.createTextRange();r.move("character",0);r.select()}else{if(s.selectionStart){s.focus();s.setSelectionRange(0,0)}}}function l(){var r;if(this.value===this.getAttribute("placeholder")){if(!g.hideOnFocus){n(this)}else{this.className=this.className.replace(b,"");this.value="";r=this.getAttribute("data-placeholdertype");if(r){this.type=r}}}}function k(){var r;if(this.value===""){this.className=this.className+" "+g.className;this.value=this.getAttribute("placeholder");r=this.getAttribute("data-placeholdertype");if(r){this.type="text"}}}function o(){var u=this.getElementsByTagName("input"),r=this.getElementsByTagName("textarea"),s=u.length,v=s+r.length,x,y,w;for(w=0;w<v;w+=1){x=(w<s)?u[w]:r[w-s];y=x.getAttribute("placeholder");if(x.value===y){x.value=""}}}function m(r){d=this.value;return !(d===this.getAttribute("placeholder")&&j.indexOf(r.keyCode)>-1)}function a(){var r;if(this.value!==d){this.className=this.className.replace(b,"");this.value=this.value.replace(this.getAttribute("placeholder"),"");r=this.getAttribute("data-placeholdertype");if(r){this.type=r}}if(this.value===""){k.call(this);n(this)}}function h(r,u,s){if(r.addEventListener){return r.addEventListener(u,s.bind(r),false)}if(r.attachEvent){return r.attachEvent("on"+u,s.bind(r))}}function f(r){if(!g.hideOnFocus){h(r,"keydown",m);h(r,"keyup",a)}h(r,"focus",l);h(r,"blur",k)}function i(){var y=document.getElementsByTagName("input"),A=document.getElementsByTagName("textarea"),s=y.length,w=s+A.length,u,r,v,z,x;for(u=0;u<w;u+=1){v=(u<s)?y[u]:A[u-s];x=v.getAttribute("placeholder");if(p.indexOf(v.type)>-1){if(x){z=v.getAttribute("data-currentplaceholder");if(x!==z){if(v.value===z||v.value===x||!v.value){v.value=x;v.className=v.className+" "+g.className}if(!z){if(v.form){r=v.form;if(!r.getAttribute("data-placeholdersubmit")){h(r,"submit",o);r.setAttribute("data-placeholdersubmit","true")}}f(v)}v.setAttribute("data-currentplaceholder",x)}}}}}function c(){var x=document.getElementsByTagName("input"),z=document.getElementsByTagName("textarea"),s=x.length,w=s+z.length,u,v,r,A;for(u=0;u<w;u+=1){v=(u<s)?x[u]:z[u-s];A=v.getAttribute("placeholder");if(p.indexOf(v.type)>-1){if(A){if(v.type==="password"){try{v.type="text";v.setAttribute("data-placeholdertype","password")}catch(y){}}v.setAttribute("data-currentplaceholder",A);if(v.value===""||v.value===A){v.className=v.className+" "+g.className;v.value=A}if(v.form){r=v.form;if(!r.getAttribute("data-placeholdersubmit")){h(r,"submit",o);r.setAttribute("data-placeholdersubmit","true")}}f(v)}}}}function q(w){var z=document.createElement("input"),v,y,u,s,r;if(typeof z.placeholder==="undefined"){for(v in w){if(w.hasOwnProperty(v)){g[v]=w[v]}}y=document.createElement("style");y.type="text/css";var x=(g.styleImportant)?"!important":"";u=document.createTextNode("."+g.className+" { color:"+g.textColor+x+"; }");if(y.styleSheet){y.styleSheet.cssText=u.nodeValue}else{y.appendChild(u)}document.getElementsByTagName("head")[0].appendChild(y);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(A,B){for(s=(B||0),r=this.length;s<r;s+=1){if(this[s]===A){return s}}return -1}}if(!Function.prototype.bind){Function.prototype.bind=function(A){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var E=Array.prototype.slice.call(arguments,1),D=this,B=function(){},C=function(){return D.apply(this instanceof B?this:A,E.concat(Array.prototype.slice.call(arguments)))};B.prototype=this.prototype;C.prototype=new B();return C}}c();if(g.live){e=setInterval(i,100)}return true}return false}return{init:q,refresh:i}}());function onYouTubeIframeAPIReady(){uitk.youtubeApiDefer.resolve()}var uitk=(function(z){var K,Q=document.getElementsByTagName("html")[0].getAttribute("data-version"),E=false,j=Modernizr.touch,i=Modernizr.win8touch,u=Modernizr.checkedselector,F=Modernizr.mediaqueries,R,G=Modernizr.placeholder,o=(j||i),l,x=z("body"),n,p,O,C,I,s,J,A,g,v,k,B,D,y,c,q,L,P,b,f,w,H,r;var a=z("html").data("language");var N=a.split("-");l=N[0];if(N[1]){l+="_"+N[1].toUpperCase()}if(I18n){I18n.locale=l}K=function(){J.init();v();k();B();D.init();uitk.readyState=true;f()};A=(function(){var S=0;return function(){S++;return"uitkId"+S}}());if(i){R="uitkMSPointerUpClick"}else{R="uitkTouchendClick"}var e,h,d,m,M;d=function(U){if(!U.data||(U.data&&!U.data.eventId)){return false}var T=U.data.eventId,S=U.handleObj.selector?z(U.target).closest(U.handleObj.selector):z(U.currentTarget),V=S.data("eventStorage");if(!V){V={}}if(!V[T]){V[T]={preventDoubleClick:false}}S.data("eventStorage",V);return V[T]};M=function(S){clearTimeout(e);h=true;e=setTimeout(function(){h=false},1000);clearTimeout(S.touchEventTimeout);S.touchEventFlag=true;S.touchEventTimeout=setTimeout(function(){S.touchEventFlag=false},1000)};m=function(T,S){T.preventDoubleClick=true;setTimeout(function(){T.preventDoubleClick=false},200)};z.event.special.uitkTouchstart={bindType:"touchstart",delegateType:"touchstart",handle:function(S){var V=d(S);V.startPos={};var U=S.data||{},T=U.scrollDirection||"both",Z=T!=="vertical",X=T!=="horizontal",Y={x:0,y:0},aa=S.originalEvent,W=null;if(Z){Y.x=aa.touches[0].clientX}if(X){Y.y=aa.touches[0].clientY}V.startPos.x=Y.x;V.startPos.y=Y.y;return W}};z.event.special.uitkTouchend={bindType:"touchend",delegateType:"touchend",handle:function(S){var Y=S.handleObj,Z=S.originalEvent,U=d(S),X=U.startPos||{x:0,y:0},W=44,T={x:0,y:0},aa={x:0,y:0},V=null;T.x=Z.changedTouches[0].clientX;aa.x=Math.abs(X.x-T.x);T.y=Z.changedTouches[0].clientY;aa.y=Math.abs(X.y-T.y);if(U.preventDoubleClick){M(U);U.preventDefault=true}else{if(aa.x<W&&aa.y<W){if(S.data.preventDoubleClick){m(U)}M(U);U.preventDefault=false;S.preventDefault=function(){U.preventDefault=true;z.Event.prototype.preventDefault.call(S)};U.stopPropagation=false;S.stopPropagation=function(){U.stopPropagation=true;z.Event.prototype.stopPropagation.call(S)};S.type=Y.origType;V=Y.handler.apply(this,arguments);S.type=Y.type}}return V}};z.event.special.uitkMSPointerUp={bindType:"MSPointerUp",delegateType:"MSPointerUp",handle:function(U){var T=U.handleObj,V=d(U),S=null;if(V.preventDoubleClick){M(V);V.preventDefault=true}else{if(U.data.preventDoubleClick){m(V)}M(V);V.preventDefault=false;U.preventDefault=function(){V.preventDefault=true;z.Event.prototype.preventDefault.call(U)};V.stopPropagation=false;U.stopPropagation=function(){V.stopPropagation=true;z.Event.prototype.stopPropagation.call(U)};U.type=T.origType;S=T.handler.apply(this,arguments);U.type=T.type}return S}};z.event.special.uitkClick={bindType:"click",delegateType:"click",handle:function(U){var T=U.handleObj,S=null,V=d(U);if(!V.touchEventFlag){if(V.preventDoubleClick){U.preventDefault()}else{if(U.data.preventDoubleClick){m(V)}U.type=T.origType;S=T.handler.apply(this,arguments);U.type=T.type}}else{if(V.preventDefault){U.preventDefault()}if(V.stopPropagation){U.stopPropagation()}}return S}};z.event.special.uitkMouseenter={bindType:"mouseover",delegateType:"mouseover",handle:function(U){var S=null,V=d(U),T=V?V.touchEventFlag:h;if(!T){S=z.event.special.mouseenter.handle.call(this,U)}return S}};z.event.special.uitkMouseleave={bindType:"mouseout",delegateType:"mouseout",handle:function(U){var S=null,V=d(U)||{},T=V?V.touchEventFlag:h;if(!T){S=z.event.special.mouseleave.handle.call(this,U)}return S}};z.event.special.uitkTouchendClick={add:function(S){var U=S.data||{},T=S.namespace?"."+S.namespace:"";if(U.eventId===undefined){U.eventId=A()}z(this).on("uitkTouchstart"+T+" uitkTouchend"+T+" uitkClick"+T,S.selector,U,S.handler)},remove:function(S){var T=S.namespace?"."+S.namespace:"";z(this).off("uitkTouchstart"+T+" uitkTouchend"+T+" uitkClick"+T,S.selector)}};z.event.special.uitkMSPointerUpClick={add:function(S){var U=S.data||{},T=S.namespace?"."+S.namespace:"";if(U.eventId===undefined){U.eventId=A()}z(this).on("uitkMSPointerUp"+T+" uitkClick"+T,S.selector,U,S.handler)},remove:function(S){var T=S.namespace?"."+S.namespace:"";z(this).off("uitkMSPointerUp"+T+" uitkClick"+T,S.selector)}};y=function(S){setTimeout(function(){window.location.href=S},0)};q=function(V,U){var T=U.attr("href"),S=new Function(V).call(U[0]);if(S===false){return false}else{if(T&&T!=="#"&&T!==""){uitk.redirect(T)}}return S};c=function(T){T.preventDefault();var S=z(T.target).closest("[data-onclick]");uitk.dataOnclick.runOnclickFunction(S.data("onclick"),S)};x.on(R+".onclick","[data-onclick]",c);L=function(U,T){var S=U.closest(T).find("input");S.removeClass("checked");S.filter(":checked").addClass("checked")};C=function(U,T,V,W,S){var X="uitk_toggle";x.on(R+".toggle",U,{preventDoubleClick:true},function(aa){var Y=z(aa.target).closest(U),ab,Z;aa.preventDefault();Y[X]();Z=Y.data(X).state;if(Z==="closed"){if(T){T(Y)}Y[X]("open");if(V){V(Y)}}else{if(Z==="open"){if(W){W(Y)}if(S){ab=uitk.subscribe("toggle.closed",function(ac,ad){if(ad[0]===Y[0]){S(Y);uitk.unsubscribe("toggle.closed",ab)}})}Y[X]("close")}}})};n={topics:{},lastToken:0,topic:function(S){var T=this.topics;if(!T[S]){T[S]=[]}return T[S]},publish:function(Y,Z){var V=n.topics[Y],T,aa=arguments.length,X=[],S,U,ab,W;if(V){for(W=0;W<aa;W=W+1){X.push(arguments[W])}T=V.length;for(W=T-1;W>=0;W=W-1){S=V[W];U=S.context;ab=S.callback;if(typeof ab==="function"){ab.apply(U,X)}}}},subscribe:function(Y,T,aa){var ab=arguments.length,ac,W,S,Z=2,V=T,U=n.lastToken++,X;if(typeof T==="function"){V=null;Z=1}if(arguments.length>Z){for(X=Z;X<ab;X=X+1){ac=arguments[X];if(typeof ac==="function"){W=n.topic(Y);S=W.length;W.push({context:V,callback:arguments[X],token:U.toString()})}}}return U.toString()},unsubscribe:function(U,T){var W=n.topics[U],Z,Y=arguments.length,S,V,X;if(Y>1&&W){for(V=1;V<Y;V=V+1){Z=W.length;S=arguments[V];if(typeof S==="function"){for(X=Z-1;X>=0;X=X-1){if(W[X].callback===S){W.splice(X,1)}}}else{if(typeof S==="string"){for(X=Z-1;X>=0;X=X-1){if(W[X].token===S){W.splice(X,1)}}}}}}else{if(Y===1&&W){delete n.topics[U]}}}};p=function(U,S){var V={transition:"fade",publish:true},aa=S?z.extend(true,{},V,S):V,T,Y,W=Modernizr.csstransitions;T=function(){if(typeof uitk.publish==="function"){if(aa.publish){uitk.publish("remove",U)}if(aa.topic){uitk.publish(aa.topic,U)}}};Y=z(document.activeElement);if(U.is(Y)||U.find(Y).length>0){var Z=U.next(),X=Z.length>0?Z:U.parent();U.blur();X.attr("tabindex","-1").focus().css("outline","none")}if(aa.transition==="none"||!W){U.empty().remove();T()}else{U.addClass("remove-animated animated-fade");U.one("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(ab){U.empty().remove();T()})}};x.on(R+".remove","[data-control=remove]",function(V){var U=z(V.target).closest("[data-control=remove]"),T=U.data(),S=T.targetId?z("#"+T.targetId):z(this);V.preventDefault();uitk.remove(S,T)});O=function(T,U){var S=U||{};uitk.publish("addNode",T,S)};x.on(R+".add","[data-control=add]",function(V){var U=z(V.target).closest("[data-control=add]"),S=U.data(),T=S.templateId;V.preventDefault();uitk.addNode(T,S)});J=(function(){var S={},T="placeholderspolyfill";if(typeof Placeholders!="undefined"&&!G){S.init=function(){Placeholders.init({styleImportant:false,hideOnFocus:true})};S.refresh=function(){Placeholders.refresh()};S.updateClass=function(U){U.each(function(){var V=z(this);if(V.attr("placeholder")!==V.attr("value")){V.removeClass(T)}else{V.addClass(T)}})};S.getInputValue=function(U){return U.val()===U.attr("placeholder")?"":U.val()};S.updateInputValue=function(V,U){if(U){V.val(U);V.removeClass(T)}else{V.val(V.attr("placeholder"));V.addClass(T)}}}else{S.init=function(){};S.refresh=function(){};S.updateClass=function(){};S.getInputValue=function(U){return U.val()};S.updateInputValue=function(V,U){V.val(U)}}return S})();r=function(){uitk.refreshPlaceholders();uitk.initCalendarInputs()};I={getFutureDateAsString:function(S,T){S.setTime(S.getTime()+(T*24*60*60*1000));return(S.toGMTString())},createCookie:function(U,W,X){var T,V,S;if(X){T=new Date();V=uitk.getFutureDateAsString(T,X);S="; expires="+V}else{S=""}document.cookie=U+"="+W+S+"; path=/";if(X&&X<0){uitk.publish("cookie.deleted",U)}else{uitk.publish("cookie.created",{name:U,value:W,days:X,expires:V})}},readCookie:function(U){var W=U+"=",S=document.cookie.split(";"),X=S.length,V=0,T;for(V=0;V<X;V++){T=S[V];while(T.charAt(0)===" "){T=T.substring(1,T.length)}if(T.indexOf(W)===0){return T.substring(W.length,T.length)}}return null},deleteCookie:function(S){uitk.createCookie(S,"",-1)}};s={publishState:function(U,T,V){var S="media."+U;uitk.publish(S,T,V)},embedVideo:function(U){var S=arguments,T;switch(U){case"youtube":T=s.embedYoutube(S[1],S[2],S[3],S[4]);break;default:return}return T},loadYoutubeApi:function(){uitk.youtubeApiDefer=z.Deferred();var T="//www.youtube.com/iframe_api",S=document.createElement("script"),U=document.getElementsByTagName("script")[0];S.src="//www.youtube.com/iframe_api";U.parentNode.insertBefore(S,U)},embedYoutube:function(Y,X,S,Z){var aa,V,T=z.Deferred(),U,W;if(!uitk.youtubeApiDefer){s.loadYoutubeApi()}V={autohide:1,showinfo:1,fs:1,modestbranding:1,rel:0,theme:"light",enablejsapi:1};if(X){X=z.extend(true,{},V,X)}else{X=V}U=function(ac){var ab=ac.data;switch(ab){case 1:s.publishState("started","youtube",Y);break;case 0:s.publishState("ended","youtube",Y);break;default:}};uitk.youtubeApiDefer.done(function(){aa=new YT.Player(S,{height:"",width:"",videoId:Y,playerVars:X,events:{onReady:Z,onStateChange:U}});T.resolve(aa)});return T.promise()},createVideoObject:function(S,T){var U;switch(S){case"youtube":U={videoObj:T,type:S,playVideo:function(){T.playVideo()},rewindVideo:function(){if(T.getPlayerState()!==5){T.seekTo(0,true)}},pauseVideo:function(){T.pauseVideo()},stopVideo:function(){T.stopVideo()}};break;default:U={}}return U}};D=(function(){var X=Modernizr.highres,Z=window.matchMedia||window.msMatchMedia,T=z(window),ac=Modernizr.mediaqueries,S=Modernizr.mq,V={},U,Y,W,ag,ad,ab,ah,aa,af,ae;aa=function(ai,aj){return{mediaQuery:ai.media,key:aj,retina:X,screenWidth:T.width(),orientation:window.orientation}};af=function(){return V};ae=function(ai,aj){V[aj]=ai};U=function(ai){uitk.publish("mediaquery.matched",ai)};Y=function(){ag(true)};W=function(ai,aj){if(S(ai.media)){U(aa(ai,aj))}};ag=function(am){var al,aj,ak,ai=af();for(al in ai){if(ai.hasOwnProperty(al)){aj=ai[al];ak=S(aj.media);if(ak&&(aj.currentMatch!==true||am===true)){U(aa(aj,al));aj.currentMatch=true}else{if(!ak){aj.currentMatch=false}}}}};ab=(function(){var ai;if(Z){ai=function(an,am){var ak,al,ao,aj=af();if(aj[am]){ak=aj[am]}else{ak=Z(an);ae(ak,am)}al=function(){if(Z(ak.media).matches){clearTimeout(ao);ao=setTimeout(function(){W(ak,am)},100)}};ak.addListener(al);if(window.orientation!==undefined&&window.addEventListener){window.addEventListener("orientationchange",al)}W(ak,am)}}else{if(ac){n.subscribe("debounced.resize",ag);ai=function(am,al){var ak,aj=af();if(aj[al]){ak=aj[al]}else{ak={media:am,currentMatch:false};ae(ak,al)}W(ak,al)}}else{ai=function(ak,aj){}}}return ai})();ad=function(){var ak=arguments.length,ai=arguments[0],aj;if(ak===2){uitk.mediaquery.registerSingle(ai,arguments[1])}else{if(ak===1&&typeof ai==="object"){for(aj in ai){if(ai.hasOwnProperty(aj)){uitk.mediaquery.registerSingle(ai[aj],aj)}}}}};ah=function(){if(ac){ad({desktop:"(min-width: 960px)",tablet:"(min-width: 726px) and (max-width: 959px)",smallTablet:"(max-width: 725px)"})}else{var ai={};ai.media="(min-width: 960px)";U(ai,"desktop")}};return{init:ah,register:ad,registerSingle:ab,getData:aa,getMediaQueries:af,publish:U,publishAgain:Y}})();g=function(U){var V=U.replace(/^#/,""),S,T;S=Handlebars.templates[U];if(S){return S}S=Handlebars.templates[V];if(S){return S}T=z(U);if(T.length>0){S=Handlebars.compile(T.html());return S}console.log("ERROR: No template found")};v=function(){var U,S,W=document.documentElement.clientWidth,V=document.documentElement.clientHeight;z(window).resize(function(){if(U){clearTimeout(U)}U=setTimeout(function(){if(document.documentElement.clientWidth!==W||document.documentElement.clientHeight!==V){W=document.documentElement.clientWidth;V=document.documentElement.clientHeight;uitk.publish("debounced.resize")}},100)});z(window).scroll(function(){if(S){clearTimeout(S)}S=setTimeout(function(){uitk.publish("debounced.scroll")},150)});var T,Y,X;T=function(){return x.height()};X=T();Y=function(){setTimeout(function(){if(X!==T()){X=T();uitk.publish("debounced.bodyResize")}Y()},500)};Y()};k=function(){var S=100,T,U;z(window).resize(function(){var V=new Date().getTime();if(U&&V<U+S){clearTimeout(T);T=setTimeout(function(){uitk.publish("throttled.resize");U=V},S)}else{uitk.publish("throttled.resize");U=V}})};B=function(){var S='input[data-autoselect="touch"], input[data-autoselect="all"]';if(o){x.on("focus",S,function(U){var T=z(U.target).closest(S);if(T){setTimeout(function(){T[0].setSelectionRange(0,9999)},50)}});x.on("mouseup",S,function(T){T.preventDefault()})}};P=(function(){var U=document.querySelector&&document.querySelector('meta[name="viewport"]'),T=navigator.userAgent,S=function(){U.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};if(U&&/iPhone|iPad|iPod/.test(T)&&!/Opera Mini/.test(T)){U.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";document.addEventListener("gesturestart",S,false)}})();b=function(T,S,U,V){if(window.expClientLogging&&window.expClientLogging.logMessage){expClientLogging.logMessage(U+"Error",["errorName="+V.name,"errorMessage="+V.message,"stackTrace="+V.stack,"file="+T,"module="+S,"function="+U])}throw V};f=function(){if(typeof window.define==="function"&&window.define.amd&&window.define.amd.uitk){define("uitk",function(){return uitk})}};w=function(U){var T=U[0],Y=T,ab=0,V=0,Z=false,W=parseInt(x.css("border-top-width"))||0,X=z("html"),S;for(Y=T;Y!=null;Y=Y.offsetParent){ab+=Y.offsetLeft;V+=Y.offsetTop;if(z(Y).css("position")==="fixed"){Z=true}}if(X.hasClass("ie8")){var aa=navigator.appVersion;if(aa.search("NT 5.1")!==-1){S="xp"}if(aa.search("NT 6.0")!==-1){S="vista"}if(aa.search("NT 6.1")!==-1){S="7"}}if(Z){V+=z(window).scrollTop()}if((Z&&S!=="vista")||(S=="7")||(S=="xp")||(!X.hasClass("lt-ie10")&&!X.hasClass("ie10"))){V-=W}return{left:ab,top:V}};H=function(){var S=uitk.version.split("."),T;if(S[3]==="local"){T="/static/core/"}else{T="//a.travel-assets.com/uitoolkit/"+S[0].replace("v","")+"-"+S[1]+"/"+S[3]+"/core/"}return T};return{init:K,supportsChecked:u,version:Q,readyState:E,locale:l,redirect:y,dataOnclick:{runOnclickFunction:q,dataOnclickHandler:c},publish:n.publish,subscribe:n.subscribe,unsubscribe:n.unsubscribe,remove:p,addNode:O,getFutureDateAsString:I.getFutureDateAsString,createCookie:I.createCookie,readCookie:I.readCookie,deleteCookie:I.deleteCookie,customToggle:C,refreshPlaceholders:J.refresh,updatePlaceholderClass:J.updateClass,updatePlaceholderValue:J.updateInputValue,getPlaceholderValue:J.getInputValue,prepFields:r,embedVideo:s.embedVideo,createVideoObject:s.createVideoObject,createUniqueId:A,isTouchDevice:o,getCompiledTemplate:g,hasTouch:j,clickEvent:R,getEventStorage:d,isResponsive:F,mediaquery:D,logError:b,corePath:H,getPosition:w,modules:{}}})(jQuery);(function(b,f,m,e,d){var j="UITK BrowserStorage",q="local",a="session",g="persistentCookies",n="sessionCookies",h="page",k={saveItem:function(v,x,u){var w=this.type,s=" saveItem(key, value, expiry): ";if(typeof v!=="string"){throw new TypeError(j+s+"'key' must be a string")}if(typeof x!=="string"&&w!==h){throw new TypeError(j+s+"'value' must be a string")}if(u&&typeof u!=="number"&&(w===g||w===n)){throw new TypeError(j+s+"'expiry' must be a number")}this.endpoint.setItem(v,x,u)},saveItems:function(s,v){if(typeof s==="object"){for(var u in s){if(s.hasOwnProperty(u)){this.saveItem(u,s[u],v)}}}else{throw new TypeError(j+" saveItems(keyValueObj): 'keyValueObj' must be an object")}},saveAsJSON:function(u,v,s){if(JSON){this.saveItem(u,JSON.stringify(v),s)}},readItem:function(s){if(typeof s==="string"){return this.endpoint.getItem(s)}else{throw new TypeError(j+" readItem(key): 'key' must be a string")}},readJSONAsObject:function(s){return jQuery.parseJSON(this.readItem(s))},doesKeyExist:function(s){return(this.readItem(s)!==null)},deleteItem:function(s){if(typeof s==="string"){this.endpoint.removeItem(s)}else{throw new TypeError(j+" deleteItem(key): 'key' must be a string")}},deleteItems:function(s){var v=this,w=s.length,u;for(u=0;u<w;u=u+1){v.endpoint.removeItem(s[u])}}},o={},l=e.localstorage,r=e.sessionstorage;o[q]={available:l,endpoint:l?f.localStorage:{},fallback:h};o[a]={available:r,endpoint:r?f.sessionStorage:{},fallback:h};function c(s){var u=this;if(!o[s]){throw new Error("UITK Html5BrowserStorage: 'type' must be '"+q+"' or '"+a+"' and not '"+s+"'")}u.type=s;u.endpoint=o[s].endpoint}c.prototype=k;c.prototype.constructor=c;function i(u,s){var v=this;if(u!==g&&u!==n){throw new Error("UITK CookieBrowserStorage: 'type' must be '"+g+"' or '"+n+"' and not '"+u+"'")}v.type=u;v.storage={};v.endpoint={setItem:function(x,y,w){w=w||s;m.createCookie(x,y,w)},getItem:function(w){return m.readCookie(w)},removeItem:function(w){return m.deleteCookie(w)}}}i.prototype=k;i.prototype.constructor=i;function p(){var s=this;s.type=h;s.storage={};s.endpoint={setItem:function(u,v){s.storage[u]=v},getItem:function(u){if(!s.storage.hasOwnProperty(u)){return null}else{return s.storage[u]}},removeItem:function(u){if(s.storage.hasOwnProperty(u)){delete s.storage[u]}}}}p.prototype=k;p.prototype.constructor=p;m.createBrowserStorage=function(w){var u=arguments,y,v,s=u[1],x=u[2];if(typeof s==="string"){y=s;if(typeof x==="number"){v=x}}else{if(typeof s==="number"){v=s}}if(y&&y!==g&&y!==n&&y!==h){throw new Error("uitk.createBrowserStorage: 'fallback' must be '"+g+"', '"+n+"', '"+h+"' or '' and not '"+y+"'")}if(w===q||w===a){if(o[w].available){return new c(w)}else{w=y||o[w].fallback}}if(w===n){return new i(w)}if(w===g){v=v||365;return new i(w,v)}if(w===h){return new p()}throw new Error("uitk.createBrowserStorage: 'type' must be '"+q+"', '"+a+"', '"+g+"', '"+n+"' or '"+h+"' and not '"+w+"'")}}(jQuery,window,uitk,Modernizr));(function(d,h,f){var a="uitk_tooltip",j=d(h),n=d("body"),s=d(document),l="active-tooltip",m="fade",q=d("html").hasClass("lt-ie8"),i={arrow:true,delay:0,fade:"out",pos:"tc",posClass:{arrow:"show-arrow",t:"top",b:"bottom",m:"mid",mTop:"mid-top",mBottom:"mid-bottom",l:"left",r:"right",c:"center"},posOffset:3,template:'<div class="uitk-tooltip"><div class="tooltip-inner"></div><span class="tooltip-arrow"></span></div>',textAlign:"left",trigger:"click",width:288,hideOffScreen:true},r={hover:{delay:150,pos:"tc",trigger:"hover",width:"auto"},calendar:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,trigger:"focus",width:477,hideOffScreen:false},typeahead:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:true,width:390},"typeahead-by-category":{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:true,width:480}},p,c,g=uitk.isTouchDevice,b=uitk.clickEvent+"."+a;r["calendar-button"]=r.calendar;p=function(A){var x,w=d("."+l);for(x=w.length-1;x>=0;x=x-1){var u=w.eq(x),y=(u.hasClass("theme-typeahead")||u.hasClass("theme-typeahead-by-category"));if(y){continue}if(!(A&&(u[0]===A[0]))){var v=u.data("trigger");var z=d(v).data(a);if(z){z.hide()}}}};uitk.subscribe("modal.appended",p);function o(v,w){var y,x,u;this.element=d(v);w=w||{};y=this.element.data()||{};if(w.jsTheme){x=w.jsTheme}else{if(this.element.data("jsTheme")){x=this.element.data("jsTheme")}else{x=w.trigger||y.trigger||i.trigger;y.jsTheme=x}}u=r[x]||{};this.options=d.extend(true,{},i,u,y,w);this.options.vPos=this.options.pos.charAt(0);this.options.hPos=this.options.pos.charAt(1);if(this.options.delay&&typeof this.options.delay==="number"){this.options.delay={show:this.options.delay,hide:this.options.delay}}this.init()}o.prototype={constructor:o,init:function(){var u=this.options,v=u.posClass;this.isShowing=false;this.posClasses=this.getPosClasses(v);this.content=this.getContent();if(u.content){this.ariaData=u.tooltipId||"tooltip"+new Date().getTime()}},getPosClasses:function(w){var v="";for(var u in w){if(w.hasOwnProperty(u)&&u!=="arrow"){v=v+w[u]+" "}}return v},getContent:function(){var x,u,v,w=this.options;if(w.content&&typeof w.content==="string"){x='<p class="secondary">'+w.content+"</p>"}else{if(w.content&&typeof w.content==="object"){x=w.content}else{if(w.contentId){u=d("#"+w.contentId)}else{v=this.element.attr("href");if(v){v=v.replace(h.location.href.split("#")[0],"")}u=d(v)}x=u.html()}}return x},makeVisible:function(){this.tooltip.css({visibility:"visible"})},makeInvisible:function(){if(this.tooltip&&this.tooltip.css){this.tooltip.css({visibility:"hidden"})}},generateTooltip:function(){var w=this,u=this.options,v=d(u.template),x=this.ariaData;v.find(".tooltip-inner").prepend(this.content);v.find(".tooltip-inner p:last").addClass("last");v.addClass(l).css({width:u.width,"text-align":u.textAlign,visibility:"hidden"}).data("trigger",w.element);if(u.jsTheme){v.addClass("theme-"+u.jsTheme)}if(u.fade&&(u.fade===true||u.fade==="true")){v.addClass(m)}if(u.arrow){v.addClass(u.posClass.arrow)}if(x){if(u.jsTheme==="typeahead"||u.jsTheme==="typeahead-by-category"){w.element.attr("aria-controls",x).attr("aria-owns",x).attr("aria-expanded","false");v.attr("id",x).attr("role","listbox")}else{w.element.attr("aria-describedby",x);v.attr("id",x).attr("role","tooltip")}}else{if(u.tooltipId){v.attr("id",u.tooltipId)}}if(w.options.trigger==="hover"&&!g){v.find(".close").remove()}return v},show:function(){var v=this,u=this.options;this.isShowing=true;if(this.hideTimeout){clearTimeout(this.hideTimeout)}if(!v.tooltip||v.tooltip.closest("html").length===0){p();v.tooltip=v.generateTooltip();v.tooltipArrow=v.tooltip.find(".tooltip-arrow");v.tooltip.appendTo("body");v.setPos();v.checkPos(false,true)}else{p(v.tooltip)}setTimeout(function(){v.tooltip.addClass("on");if(u.fade&&u.fade==="out"){setTimeout(function(){v.tooltip.addClass(m)},10)}},u.delay.show)},hide:function(){var u=this,v;this.isShowing=false;if(this.showTimeout){clearTimeout(this.showTimeout)}if(this.tooltip){v=this.tooltip;this.hideTimeout=setTimeout(function(){v.removeClass("on");uitk.publish("tooltip.hidden",u.element);setTimeout(function(){if(!v.hasClass("on")&&!u.isShowing){v.remove()}},100)},this.options.delay.hide)}},setPos:function(w,u){var x=this.options,y=w||x.vPos,v=u||x.hPos,z=this.getPos(y,v);this.tooltip.css({left:z.left,top:z.top});if(x.hPos==="c"){if(x.jsTheme==="click"){z.leftShift=z.leftShift-10}else{if(x.jsTheme==="hover"){z.leftShift=z.leftShift-5}}}this.tooltip.find(".tooltip-arrow").css({"margin-left":z.leftShift,"margin-right":z.rightShift})},getTopPos:function(D,u){var A=uitk.getPosition(u),w=u.outerHeight(),z=this.options.posOffset,C=this.tooltip,B,v=this.tooltipArrow,y,x;B=C.outerHeight();if(D==="t"){y=A.top-B-z}else{if(D==="m"){y=A.top+w/2-B/2}else{if(D==="mTop"){x=parseInt(v.css("bottom"),10)+parseInt(v.css("border-top-width"),10);y=A.top-B+w/2+x}else{if(D==="mBottom"){x=parseInt(v.css("top"),10)+parseInt(v.css("border-top-width"),10);y=A.top+w/2-x}else{if(D==="b"){y=A.top+w+z}}}}}return y},getWindowWidth:function(){return j.width()},getLeftPos:function(D,I,u){var C=uitk.getPosition(u),x=u.outerWidth(),B=this.options.posOffset,w,y,F,G,A,E,v,H=this.tooltip,z;z=H.outerWidth();if(q){C.left=C.left-((j.width()-n.width())/2)}if(D==="c"){A=C.left+x/2-z/2;E=C.left+x/2+z/2;v=this.getWindowWidth();if(A<0){y=A;w=0}else{if(E>v){y=E-v;w=C.left+x/2-z/2-y}else{w=C.left+x/2-z/2}}}else{if(D==="r"){if(I==="m"||I==="mTop"||I==="mBottom"){w=C.left+x+B}else{G=C.left-z+x;if(G>0){w=G}else{F=-(G);w=0}}}else{if(D==="l"){if(I==="m"||I==="mTop"||I==="mBottom"){w=C.left-z-B}else{G=z+C.left;v=this.getWindowWidth();if(G<v){w=C.left}else{y=G-v;w=C.left-y}}}}}return{left:w,leftShift:y,rightShift:F}},getPos:function(y,w){var A={},D=this.options,x=D.posClass,C=y||D.vPos,z=w||D.hPos,v=this.element,B=this.tooltip,u;A.leftShift=0;A.rightShift=0;B.removeClass(this.posClasses);B.addClass(x[C]+" "+x[z]);A.top=this.getTopPos(C,v);u=this.getLeftPos(z,C,v);A.left=u.left;if(u.leftShift){A.leftShift=u.leftShift}if(u.rightShift){A.rightShift=u.rightShift}return A},testTopPos:function(u,v,w){return u+v>w},testBottomPos:function(u,v,w,x){return u-v<w+x},testLeftPos:function(u,w,v){return u+w>v},testRightPos:function(v,x,w,u){return v-x<w+u},checkPos:function(O,z,H,E){if(this.tooltip&&this.tooltip instanceof jQuery){var w=H||this.options.vPos,v=E||this.options.hPos;this.makeInvisible();if(this.options.preventFlip){this.setPos(w,v);this.makeVisible();return}var G=this.getPos(w,v),x=this.tooltip;var K=parseInt(x.css("padding-left"),10),N=parseInt(x.css("padding-top"),10),B=G.top,M=G.left,u=M+x.outerWidth(),C=B+x.outerHeight(),y=j.scrollTop(),L=j.scrollLeft(),D=j.height(),Q=j.width(),P=this.testTopPos(B,N,y),J=this.testBottomPos(C,N,y,D),F=this.testLeftPos(M,K,L),I=this.testRightPos(u,K,L,Q),A=false;if(P&&J&&F&&I){if(O){this.setPos(w,v)}this.makeVisible();return}if(w==="m"){if(v==="l"&&!F){v="r";A=true}else{if(v==="r"&&!I){v="l";A=true}}}else{if(v==="l"&&!I){v="l";A=true}else{if(v==="r"&&!F){v="r";A=true}else{if(v==="c"&&(!I||!F)){v="c";A=true}}}}if(w==="t"&&!P){w="b";A=true}else{if(w==="b"&&!J){w="t";A=true}else{if(w==="m"){if(P&&!J){w="mTop";A=true}else{if(J&&!P){w="mBottom";A=true}}}}}if(A){this.setPos(w,v);if(z){this.checkPos(false,false,w,v)}else{this.makeVisible()}}else{if(!this.options.hideOffScreen){this.makeVisible()}}}},updateContent:function(u){if(u&&typeof u==="string"){this.content='<p class="secondary">'+u+"</p>"}else{if(u&&typeof u==="object"){this.content=u}}}};d.fn[a]=function(){var w,x,u,v;if(typeof arguments[0]==="object"){w=arguments[0];x=arguments[1];u=arguments[2];v=arguments[3]}else{w={};x=arguments[0];u=arguments[1];v=arguments[2]}return this.each(function(){if(!d.data(this,a)){d.data(this,a,new o(this,w))}if(typeof x==="string"){d.data(this,a)[x](u,v)}})};var e=uitk.createUniqueId();n.on(b,'[data-control="tooltip"]',{eventId:e},function(x){var u=d(x.target).closest('[data-control="tooltip"]'),w=u.data("trigger"),v=r[u.data("jsTheme")];if((w&&w!=="hover")||(!w&&v&&v.trigger!=="hover")||(u.attr("href")&&u.attr("href").charAt(0)==="#")||(q&&u.attr("href")&&u.attr("href").indexOf("#")!==-1)){u[a]("show");x.preventDefault()}});var k=function(z,x,y){var u=d(z.target).closest('[data-control="tooltip"]'),w=u.data("trigger"),v=r[u.data("jsTheme")];if(w===x||(!w&&v&&v.trigger===x)){z.preventDefault();u[a](y)}};n.on("uitkMouseenter."+a+" focus."+a,'[data-control="tooltip"]',{eventId:e},function(u){k(u,"hover","show")});n.on("uitkMouseleave."+a+" blur."+a,'[data-control="tooltip"]',{eventId:e},function(u){k(u,"hover","hide")});n.on("focus."+a,'[data-control="tooltip"]',function(u){k(u,"focus","show")});n.on("blur."+a,'[data-control="tooltip"]',function(u){k(u,"focus","hide")});n.on(b,".active-tooltip .close",function(v){var u=d(v.target).closest(".active-tooltip");v.preventDefault();u.data("trigger")[a]("hide")});s.on(b+" focusin."+a,function(v){var u=d(v.target).closest('[data-control="tooltip"]');if(u.length<=0){u=d(v.target)}if(u.data("control")!=="tooltip"&&u.data("control")!=="calendar"&&u.data("control")!=="calendar-button"&&!u.hasClass(l)&&u.closest("."+l).length===0){p()}});s.on("keydown",function(u){if(u.keyCode===27){p()}});c=function(){var v,u=d("."+l);for(v=u.length-1;v>=0;v=v-1){d(u.eq(v).data("trigger"))[a]("checkPos",true,true)}};d(h).on("scroll."+a+" resize."+a,function(){c()});uitk.subscribe("modal.appended",function(){d(".modal-wrap").on("scroll."+a,function(){c()})});uitk.tooltips={hideAll:p};uitk.modules.Tooltip=o}(jQuery,window));(function(g,i,c){var h="uitk_tabs",f=g("body"),j=i.location.pathname+"_"+h,k=Modernizr.sessionstorage,l=Modernizr.hashchange,e="on",d={initialTab:0,hashSuffix:"tab",history:false,tabState:true};function a(m,n){var o;this.element=g(m);this.tabs=this.element.find(".tabs li");n=n||{};o=this.element.data()||{};this.options=g.extend({},d,o,n);this.init()}a.prototype={init:function(){var p=this,n,o;this.element.attr("data-control","tabs");this.tabsContent=g();for(o=this.tabs.length;o>0;o=o-1){var q=this.tabs.eq(o-1),m=p.getContentElem(q);q.data("content",m);this.tabsContent=this.tabsContent.add(m)}if(this.tabs.find("a[data-initial-tab]").length>0){this.stopInitSelection=true}if(l){g(i).on("hashchange."+h,function(){var r=p.getNextTab();if(r){p.showTab(r)}})}n=this.getNextTab(true);if(n){this.doShowTab(n,true)}},selectTab:function(m){if(!l||!this.options.history){this.showTab(m.closest("li"))}else{i.location.hash=m.attr("href")+"_"+this.options.hashSuffix}},getContentElem:function(n){var m=n.find("a").attr("href");return this.element.find(m)},getNextTab:function(u){var r=i.location.hash,o=new RegExp("_"+this.options.hashSuffix+"$"),p=this.tabs.find('a[href="'+r.replace(o,"")+'"]'),v,n,s,m,q;if(u&&k&&this.options.tabState){n=sessionStorage.getItem(j);if(n){v=JSON.parse(n);for(q=v.length-1;q>=0;q=q-1){s=this.tabs.find('a[href="'+v[q]+'"]');if(s.length>0){return s.parent()}}}}if(r&&p.length>0){m=p.parent()}else{if(u&&!this.stopInitSelection){if(this.options.initialTab+1<=this.tabs.length){m=this.tabs.eq(this.options.initialTab)}else{m=this.tabs.eq(0)}}}return m},showTab:function(m,n){this.doShowTab(m,n);uitk.publish("tab.selected",m)},doShowTab:function(n,o){var m=n.data("content");this.tabsContent.removeClass(e);this.tabs.find("a").removeClass(e).attr("aria-selected","false");n.find("a").addClass(e).attr("aria-selected","true");if(m){m.addClass(e)}if(!o){this.storeState();n.find("a").focus()}},storeState:function(){var m,o,n;if(k&&this.options.tabState){o=[];m=g(".tabs a."+e);for(n=m.length-1;n>=0;n=n-1){o.push(m.eq(n).attr("href"))}sessionStorage.setItem(j,JSON.stringify(o))}}};g.fn[h]=function(){var n,o,m;if(typeof arguments[0]==="object"){n=arguments[0];o=arguments[1];m=arguments[2]}else{n={};o=arguments[0];m=arguments[1]}return this.each(function(){if(!g.data(this,h)){g.data(this,h,new a(this,n))}if(typeof o==="string"){g.data(this,h)[o](m)}})};function b(){g("[data-control=tabs]")[h]()}b();uitk.subscribe("tab.init",function(){b()});f.on(uitk.clickEvent+"."+h,"[data-control=tabs] .tabs a",function(n){var m=g(n.target).closest("a");n.preventDefault();m.closest("[data-control=tabs]")[h]("selectTab",m)});f.on("keydown."+h,"[data-control=tabs] .tabs a",function(q){var n=g(q.target),m=q.keyCode,p,o;if(m===37||m===38){p=n.parent().prev();if(p.length>0){p.find(">a").focus();if(m===38){q.preventDefault();return false}}else{if(m===37){n.closest(".tabs").find("li:last>a").focus()}}}else{if(m===39||m===40){o=n.parent().next();if(o.length>0){o.find(">a").focus();if(m===40){q.preventDefault();return false}}else{if(m===39){n.closest(".tabs").find("li:first>a").focus()}}}}})}(jQuery,window));(function(g,k,d){var j="uitk_toggle",f=g("body"),i="open",m="after-open",a="viewed",h="toggle",c="open",b="closed",e={transition:"fade"},n=Modernizr.csstransitions;function l(o,p){var q;this.element=g(o);p=p||{};q=this.element.data()||{};this.options=g.extend(true,{},e,q,p);this.init()}l.prototype={constructor:l,init:function(){var q=this.element,o=this.options,p=this;this.content=o.contentId?g("#"+o.contentId):g(q.attr("href"));this.parent=this.content.closest("."+h);this.options.expandText=this.options.expandText||q.html();this.options.collapseText=this.options.collapseText||q.html();if(this.parent.data("type")==="read-more"){this.isReadMore=true;this.closedHeight=this.content.height();this.readMoreItems=this.content.find(".rm-hide");this.ellipse=this.content.find(".ellipse");this.content.css({height:this.closedHeight})}else{this.closedHeight=0}this.hasTransitions=n&&(o.transition==="slide");if(this.hasTransitions){p.parent.addClass(o.transition)}if(this.parent.hasClass(i)||(this.content.hasClass(i))){this.state=c;this.content.css({visibility:"visible"})}else{this.state=b;p.content.css({visibility:"hidden"})}this.accordion=q.closest("[data-control=accordion]");if(this.accordion.length>0){this.siblings=this.accordion.find('[data-control="toggle"]').not(q)}if(this.hasTransitions){this.content.on("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){if(p.state===c){if(p.content.hasClass(o.transition)){p.content.removeClass(o.transition).css({height:"auto"});uitk.publish("toggle.opened",p.element)}}else{if(p.state===b){if(p.content.hasClass(o.transition)){p.closeEnd();p.content.removeClass(o.transition)}}}})}},setOpenHeight:function(){var p=this.content,o;if(this.hasTransitions){o=p[0].scrollHeight||1}else{o=""}p.css({height:o,opacity:1});if(this.isReadMore){this.readMoreItems.css({opacity:1})}},open:function(r,q){var p=this,o;if((this.options.manual==="open"||this.options.manual==="both")&&r){uitk.publish("toggle.beforeOpen",p.element,q);return}if(this.state===c){return}o=function(){var s=0;p.state=c;if(p.accordion.length>0){p.siblings.each(function(){var u=g(this);if(u.hasClass(i)){if(p.options.transition==="fade"){s=125}u[j]("close")}})}setTimeout(function(){p.content.css({visibility:"visible"}).attr("aria-expanded","true");if(p.isReadMore){p.readMoreItems.removeClass("rm-hide").addClass("rm");p.ellipse.hide()}p.element.html(p.options.collapseText);p.setOpenHeight();p.element.removeClass(a).addClass(i);p.content.removeClass(a).addClass(i);p.parent.removeClass(a).addClass(i);p.parent.next().addClass(m);if(!p.hasTransitions){uitk.publish("toggle.opened",p.element)}},s)};this.closedHeight=this.content.height();if(this.state!==c){if(this.isReadMore){this.content.css({height:this.closedHeight})}if(p.hasTransitions||(p.options.transition==="fade"&&!this.isReadMore)){setTimeout(function(){p.content.addClass(p.options.transition);o()},10)}else{o()}}},close:function(r,p){var o=this,s=o.options.transition,q;if((this.options.manual==="close"||this.options.manual==="both")&&r){uitk.publish("toggle.beforeClose",o.element,p);return}q=function(){o.state=b;if(s==="fade"&&!o.isReadMore){o.content.css({opacity:0,overflow:"hidden"})}else{if(s==="fade"&&o.isReadMore){o.content.css({opacity:1,overflow:"hidden"});o.readMoreItems.css({opacity:0})}else{if(o.isReadMore){o.content.css({height:o.closedHeight,opacity:1,overflow:"hidden"})}else{o.content.css({height:0,opacity:0,overflow:"hidden"})}}}o.content.attr("aria-expanded","false");o.element.removeClass(i).addClass(a);o.content.removeClass(i).addClass(a);o.parent.removeClass(i).addClass(a);if(s!=="slide"){o.closeEnd()}};if(o.state!==b){this.setOpenHeight();if(o.hasTransitions){setTimeout(function(){o.content.addClass(s);o.element.html(o.options.expandText);setTimeout(q,10)},10)}else{o.element.html(o.options.expandText);q()}}},closeEnd:function(){if(this.isReadMore){this.readMoreItems.removeClass("rm").addClass("rm-hide");if(this.options.transition==="slide"){this.content.css({height:"auto"})}this.ellipse.show()}else{this.content.css({visibility:"hidden"})}this.parent.next().removeClass(m);uitk.publish("toggle.closed",this.element)},toggle:function(p,o){if(this.state===c){this.close(p,o)}else{this.open(p,o)}}};g.fn[j]=function(){var q,r,o,p;if(typeof arguments[0]==="object"){q=arguments[0];r=arguments[1];o=arguments[2];p=arguments[3]}else{q={};r=arguments[0];o=arguments[1];p=arguments[2]}return this.each(function(){if(!g.data(this,j)){g.data(this,j,new l(this,q))}if(typeof r==="string"){g.data(this,j)[r](o,p)}})};f.on(uitk.clickEvent,'[data-control="toggle"]',{preventDoubleClick:true},function(p){p.preventDefault();var o=g(p.target).closest('[data-control="toggle"]');o[j]("toggle",true,p)});uitk.modules.Toggle=l}(jQuery,window));(function(g,j,d){var i="uitk_offCanvasToggle",f=g("body"),k="off-canvas-inner",o="off-canvas-outer",h="off-canvas-open",a=g(".site-content"),n="off-canvas-overlay",c="open",b="closed",e={side:"left",maxWidth:"959"},p=uitk.clickEvent+"."+i,l=Modernizr.win8touch;function m(q,r){var s;this.element=g(q);r=r||{};s=this.element.data()||{};this.options=g.extend(true,{},e,s,r);this.init()}m.prototype={constructor:m,init:function(){var q=this;if(this.options.side==="left"){this.wrapperClass=k}else{this.wrapperClass=o}this.options.maxWidth=this.options.maxWidth/16;if(a.hasClass(this.openClass)){this.state=c}else{this.state=b}this.sidebar=g(this.options.target);uitk.subscribe("off-canvas.close",this,this.close);j.onresize=function(){q.setPos()};if(a.children("."+n).length===0){this.overlay=g("<div />").addClass(n).appendTo(a)}if(uitk.isTouchDevice){if(l){}else{f.swipe({swipe:function(s,v,w,u,r){if((q.state===c)&&(v===q.options.side)){q.close()}},threshold:10,allowPageScroll:"vertical"})}}},setPos:function(){if(Modernizr.mq("(max-width: "+this.options.maxWidth+"em)")){this.sidebar.css({"margin-top":-this.sidebar.position().top})}else{this.sidebar.css({"margin-top":"auto"})}},open:function(){var q=this;this.setPos();a.addClass(q.wrapperClass);setTimeout(function(){a.addClass(h)},50);this.state=c;uitk.publish("off-canvas.stateChanged",c)},close:function(){var q=this;if(this.state!==b){a.removeClass(h);a.removeClass(q.wrapperClass);q.state=b;uitk.publish("off-canvas.stateChanged",b)}},toggle:function(){if(this.state===c){this.close()}else{this.open()}}};g.fn[i]=function(){var q,r;if(typeof arguments[0]==="object"){q=arguments[0];r=arguments[1]}else{q={};r=arguments[0]}return this.each(function(){if(!g.data(this,i)){g.data(this,i,new m(this,q))}if(typeof r==="string"){g.data(this,i)[r]()}})};f.on(p,'[data-control="off-canvas-toggle"]',function(r){var q=g(r.target).closest('[data-control="off-canvas-toggle"]');r.preventDefault();q[i]("toggle")});f.on(p,"."+n,function(q){q.preventDefault();q.stopPropagation();uitk.publish("off-canvas.close")});uitk.modules.OffCanvasToggle=m}(jQuery,window));(function(d,f,e){uitk.media={};var a="uitk_media",s={downgrade:false},g={mediaOptions:{}},j=0,q=Modernizr.csstransitions,c,b,l=d(f);var v=l.scrollTop(),m,k=1,h=10,p,n,r=true;function i(w,x){var y;this.element=d(w);x=x||{};y=this.element.data()||{};this.options=d.extend(true,{},s,y,x);this.init()}i.prototype={constructor:i,init:function(){if(this.options.lazy){var w=this.options.src;this.lazyLoaded=false;this.initialAspectRatio=this.options.aspectRatio||"16-9";this.imgSrc=w?this.createFullUrl(w,this.options.path):"";this.currentImg="";this.isContentSlider=this.element.closest('[data-control="content-slider"]').length>0;this.isMediaViewer=this.element.closest('[data-control="media-viewer"]').length>0;if(this.options.srcset&&uitk.isResponsive){this.imgSrcsetArr=this.parseSrcset(this.options.srcset,Modernizr.highres,this.options.path);this.responsive=true}}},createFullUrl:function(x,w){if(x.indexOf("//")!==-1||!w){return x}else{return w+x}},parseSrc:function(C,B){var A=d.trim(C).split(" "),x=A.length,y={retina:false},z;y.url=this.createFullUrl(A[0],B);for(z=1;z<x;z=z+1){var w=A[z];if(w[w.length-1]==="w"){y.width=parseInt(w,10)}else{if(w==="1-1"||w==="3-2"||w==="4-3"||w==="16-9"){y.ratio=w}else{if(w==="2x"){y.retina=true}}}}return y},parseSrcset:function(z,y,F){var B=this,w=z.split(","),D=z.split(",").length,C=[],x,A;for(A=0;A<D;A=A+1){var E=B.parseSrc(w[A],F);C.push(E)}C.sort(function(J,H){var K=100000,I=J.width||K,G=H.width||K;return I-G});x=C.length;for(A=x-1;A>0;A=A-1){if(C[A].width===C[A-1].width){if(C[A].retina!==y){C.splice(A,1)}else{C.splice(A-1,1)}}}return C},getImgToLoad:function(x,A,z){var w,y;if(!x||!z){return{url:A}}w=x.length;for(y=0;y<w;y=y+1){if(Modernizr.mq("(max-width:"+x[y].width/16+"em)")){return x[y]}}return x[w-1]},preloadImg:function(A,w,x){var y=this,z=new Image();z.onload=function(){w();uitk.publish("image.loaded",{element:y.element})};if(x){z.onerror=function(){x();uitk.publish("image.errored",{element:y.element})}}if(!A){z.onerror()}else{z.src=A}},removeSmallerImages:function(y){var x=this.imgSrcsetArr;if(x&&y){var w=x.length,z;for(z=0;z<w;z=z+1){if(x[z].url===y){x.splice(0,z);break}}return x}},updateImgSrc:function(w){var x=this;x.image.src=w;this.image.removeAttribute("height");this.image.removeAttribute("width")},updateRatio:function(w,x){var y=this;if(!y.isMediaViewer){w.removeClass("aspect-ratio1-1 aspect-ratio3-2 aspect-ratio4-3 aspect-ratio5-4 aspect-ratio16-9");if(x){w.addClass("aspect-ratio"+x)}else{w.addClass("aspect-ratio"+y.initialAspectRatio)}}},embedImage:function(B,y,x,w){var A=this,z=B.url;if(z&&this.currentImg===z){return}this.currentImg=z;this.preloadImg(z,function(){if(A.currentImg===z){if(!A.lazyLoaded){A.lazyLoaded=true;w.removeClass("no-image");w.addClass("loading");A.image=f.document.createElement("img");A.image.alt=y;A.image.className=x;A.image.onload=function(){setTimeout(function(){w.removeClass("loading")},10)};A.updateImgSrc(z);w.prepend(A.image)}else{A.updateImgSrc(z)}if(A.responsive){if(A.options.downgrade){A.updateRatio(w,B.ratio)}else{A.removeSmallerImages(z)}}}},function(){if(!A.lazyLoaded){w.removeClass("loading");w.addClass("no-image");if(!A.responsive){A.lazyLoaded=true}}})},lazyLoad:function(x){if(!this.lazyLoaded||this.responsive){var y,w=this.element;if(w.css("display")==="none"||w.css("visibility")==="hidden"){return}if(this.isMediaViewer&&!w.hasClass("current")&&!x){return}if(!this.isContentSlider||(this.isContentSlider&&this.element.closest(".current-tile").length>0)){y=this.getImgToLoad(this.imgSrcsetArr,this.imgSrc,uitk.isResponsive);this.embedImage(y,this.options.alt,this.options["class"],this.element)}}}};u.prototype=new i();u.prototype.constructor=u;function u(w,x){var y;this.element=d(w);x=x||{};y=this.element.data()||{};this.options=d.extend(true,{},s,y,x);this.options.lazy=true;this.init()}u.prototype.embedImage=function(B,y,x,w){var A=this,z=B.url;if(z&&this.currentImg===z){return}this.currentImg=z;this.preloadImg(z,function(){if(A.currentImg===z){A.lazyLoaded=true;w.removeClass("no-image");A.updateImgSrc(z);w.removeClass("loading");if(A.responsive){if(A.options.downgrade){A.updateRatio(w,B.ratio)}else{A.removeSmallerImages(z)}}}},function(){if(!A.lazyLoaded){w.removeClass("loading");w.addClass("no-image");if(!A.responsive){A.lazyLoaded=true}}})};u.prototype.updateImgSrc=function(w){this.element.css("background-image","url("+w+")")};function o(w,x){var y;this.element=d(w);x=x||{};y=this.element.data()||{};this.options=d.extend(true,{},g,y,x);this.init()}o.prototype={constructor:o,init:function(){if(!this.options.lazy){this.embedVideo()}else{this.lazyLoaded=false;this.isContentSlider=this.element.closest('[data-control="content-slider"]').length>0}},embedVideo:function(){var y=this.options,x=y.mediaType,w=y.mediaOptions,B=y.mediaId,A=this.element,z;this.videoId="M"+j+"_"+x+B;j++;A.append('<div allowTransparency="true" id="'+this.videoId+'"></div>');z=uitk.embedVideo(x,B,w,this.videoId,function(){z.done(function(C){A.removeClass("loading").data("video",uitk.createVideoObject(x,C))})});this.videoPlayer=z},lazyLoad:function(){if(!this.lazyLoaded){if(this.element.css("display")==="none"||this.element.css("visibility")==="hidden"){return}if(!this.isContentSlider||(this.isContentSlider&&this.element.closest(".current-tile").length>0)){this.embedVideo();this.lazyLoaded=true}}}};d.fn[a]=function(){var y,z,w,x;if(typeof arguments[0]==="object"){y=arguments[0];z=arguments[1];w=arguments[2];x=arguments[3]}else{y={};z=arguments[0];w=arguments[1];x=arguments[2]}return this.each(function(){var A=d(this);if(!d.data(this,a)){if(A.data("mediaType")&&A.data("mediaType")==="youtube"){d.data(this,a,new o(this,y))}else{if(A.data("mediaType")&&A.data("mediaType")==="background"){d.data(this,a,new u(this,y))}else{d.data(this,a,new i(this,y))}}}if(typeof z==="string"){d.data(this,a)[z](w,x)}})};d("[data-control=media]")[a]();uitk.subscribe("contentSlider.pageChange",function(y,A,z,w){var x="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd";A.off(x);if(q&&!w){A.on(x,function(){c();A.off(x)})}else{setTimeout(function(){c()},50)}});c=function(){var y=d('figure[data-lazy="true"], .background[data-media-type="background"]'),x=l.scrollTop(),w=x+l.height(),z=uitk.media.lazyBuffer||0;y.each(function(){var B=d(this),D=B.offset(),A=D.top,C=A+B.outerHeight();if(A!==0&&((A-z)<w)&&((C+z)>x)){B[a]("lazyLoad")}})};b=function(){c();n()};n=function(){};if(uitk.hasTouch){n=function(){clearTimeout(m);r=false};d("body").one("touchstart",function(){n()});p=function(){m=setTimeout(function(){if(l.scrollTop()!==v){c();return}if(k<h){k=k+1;p()}},500)};if(r){p()}}uitk.subscribe("debounced.scroll",b);uitk.subscribe("debounced.resize",b);uitk.subscribe("debounced.bodyResize",b);uitk.subscribe("menu.opened",b);c();uitk.modules.MediaImage=i;uitk.modules.MediaBgImage=u}(jQuery,window));(function(f,h,b){var g="uitk_mediaViewer",c={},d="current",a=0,e=500;function i(j,k){var l;this.element=f(j);k=k||{};l=this.element.data()||{};this.options=f.extend(true,{},c,l,k);this.init()}i.prototype={constructor:i,init:function(){var k=this.options.sliderId,l=this,j;this.showMediaTimeout="";this.mediaCarouselNum=a;a++;if(!this.mediaTemplate){i.prototype.mediaTemplate=uitk.getCompiledTemplate("figure-tag")}if(uitk){j=function(r,n,o){var w,p;if(k===o){p=n.find("a");w=p.data("mediaType")||"image";switch(w){case"image":var m=p.data(),s=p.attr("href"),v=n.find("img").attr("alt");this.showMedia("image",s,v,m);break;case"youtube":var u=p.data("mediaId"),q=p.data("mediaOptions")||{};this.showMedia("youtube",u,q);break;default:}}};uitk.subscribe("image-selected",this,j);uitk.subscribe("image.loaded",function(m,n){if(f.contains(l.element[0],n.element[0])){setTimeout(function(){l.handleImageLoad(n.element)},0)}});uitk.subscribe("image.errored",function(m,n){if(f.contains(l.element[0],n.element[0])){l.handleImageError(n.element)}})}},showMedia:function(j){var k=arguments,m=this.element,l=this;if(this.current&&this.current.data("video")){this.current.data("video").pauseVideo()}j=j||"image";m.find("."+d).removeClass(d).attr("aria-hidden",true);clearTimeout(l.showMediaLoaderTimeout);l.showMediaLoaderTimeout=setTimeout(function(){m.addClass("loading")},e);clearTimeout(l.showMediaTimeout);switch(j){case"image":l.showImage(k[1],k[2],k[3]);break;case"youtube":l.showVideo(j,k[1],k[2]);break;default:}},showImage:function(p,r,q){var o=this,l=this.element,m,s,k=q?q.srcset:b,j=k&&uitk.isResponsive,n=l.find('[data-src="'+p+'"]').eq(0);n.css({"padding-top":0});if(n.length===0){this.showMediaTimeout=setTimeout(function(){var w={isImage:true,mediaType:"image",src:p,alt:r,caption:r,captionClass:"media-caption",classes:"media-wrap image",dataAttributes:'data-unique-id="'+uitk.createUniqueId()+'"'},v,u;if(q){v=q.path;u=q.downgrade}if(j){w.srcSet=k;w.lazyIsTrue=true;w.lazy=true;if(u){w.downgrade=u}if(v){w.path=v}}m=f(o.mediaTemplate(w));o.current=m;l.prepend(m);if(!j){s=m.find("img");s.one("load",function(){o.handleImageLoad(m)});s.one("error",function(){o.handleImageError(m)});if(s[0].complete||m.hasClass("no-image")){s.width();s.trigger("load")}}else{m.uitk_media("lazyLoad",true)}},10)}else{if((n.find("img").length>0&&n.find("img")[0].complete)||n.hasClass("no-image")){o.current=n;o.handleImageLoad(n);if(j){n.uitk_media("lazyLoad")}}}},handleImageLoad:function(k){var j=this;if(j.current.data("uniqueId")===k.data("uniqueId")){clearTimeout(j.showMediaLoaderTimeout);j.element.removeClass("loading");k.addClass(d).attr("aria-hidden",false)}},handleImageError:function(k){var j=this;clearTimeout(j.showMediaLoaderTimeout);j.element.removeClass("loading");if(!k.data("srcset")){k.addClass("no-image")}j.handleImageLoad(k)},getMCVideoId:function(j,k){return"MC"+this.mediaCarouselNum+"_"+j+k},getVideoIframe:function(j){return f("#"+j)},showVideo:function(q,p,n){var o=this,l=this.element,j=this.getMCVideoId(q,p),m,r,k=this.getVideoIframe(j);if(k.length===0){this.showMediaTimeout=setTimeout(function(){var s={classes:"media-wrap"};m=f(o.mediaTemplate(s));m.prepend('<div allowTransparency="true" id="'+j+'"></div>');l.prepend(m);o.current=m;r=uitk.embedVideo(q,p,n,j,function(){r.done(function(u){m.data("video",uitk.createVideoObject(q,u));if(o.current===m){clearTimeout(o.showMediaLoaderTimeout);l.removeClass("loading");m.addClass(d).attr("aria-hidden",false)}})});if(f("html").hasClass("lt-ie9")){m.addClass(d).attr("aria-hidden",false)}},500)}else{m=k.closest(".media-wrap");this.current=m;if(m.data("video")&&m.data("video").videoObj.getPlayerState()!==-1){m.data("video").rewindVideo()}clearTimeout(o.showMediaLoaderTimeout);l.removeClass("loading");m.addClass(d).attr("aria-hidden",false)}},getTopPadding:function(j,k){return Math.floor((j-k)/2)}};f.fn[g]=function(){var l,m,j,k;if(typeof arguments[0]==="object"){l=arguments[0];m=arguments[1];j=arguments[2];k=arguments[3]}else{l={};m=arguments[0];j=arguments[1];k=arguments[2]}return this.each(function(){if(!f.data(this,g)){f.data(this,g,new i(this,l))}if(typeof m==="string"){f.data(this,g)[m](j,k)}})};f("[data-control=media-viewer]")[g]();uitk.modules.MediaViewer=i}(jQuery,window));(function(f,h,b){var g="uitk_imageSlider",e=f("body"),c={},d="current",i=uitk.clickEvent+"."+g;function a(j,k){var l;this.element=f(j);k=k||{};l=this.element.data()||{};this.options=f.extend(true,{},c,l,k);this.init()}a.prototype={constructor:a,init:function(){var k=this.element,j=this;k.attr("data-control","image-slider");this.sliderId=this.options.sliderId;this.thumbs=k.find(".image-slider-thumbs");this.mask=k.find(".image-slider-mask");this.current=this.thumbs.find("."+d);this.selectThumb(this.thumbs.find("li").first(),true);f(h).resize(function(){j.resize(j)})},testThumbPosition:function(j){var o=this.thumbs.find("li:last"),l=j.offset().left,p=l+j.outerWidth(),k=this.mask.offset().left,n=k+this.mask.outerWidth(),m=o.offset().left+o.width();return(l<k||p>n||m<n)},getMaxSlide:function(){var j=this.thumbs.find("li:last");return j.position().left+j.outerWidth()-this.element.outerWidth()},moveThumbs:function(m,j){var n,l=this.thumbs,k=this.getMaxSlide();if(j){l.addClass("slide")}else{l.removeClass("slide")}n=m.position().left;n=k>n?n:k;n=n>0?n:0;l.css({left:-n})},repositionThumbs:function(k,j){var l=this.testThumbPosition(k);if(l){this.moveThumbs(k,j)}},selectThumb:function(k,j){if(k&&k.length>0){if(this.current){this.current.removeClass(d)}this.current=k.addClass(d);if(!j){this.repositionThumbs(k,true)}if(uitk){uitk.publish("image-selected",k,this.sliderId)}}},prev:function(){var j=this.current.prev();if(j.length<1){j=this.thumbs.find("li:last")}this.selectThumb(j)},next:function(){var j=this.current.next();if(j.length<1){j=this.thumbs.find("li:first")}this.selectThumb(j)},resize:function(){var j=this.thumbs.find("."+d);this.repositionThumbs(j,false)}};f.fn[g]=function(){var k,l,j;if(typeof arguments[0]==="object"){k=arguments[0];l=arguments[1];j=arguments[2]}else{k={};l=arguments[0];j=arguments[1]}return this.each(function(){if(!f.data(this,g)){f.data(this,g,new a(this,k))}if(typeof l==="string"){f.data(this,g)[l](j)}})};e.on(i,'[data-control="image-slider"] .image-slider-control',function(m){var j=f(m.target),l=j.closest(".image-slider-control"),k=j.closest('[data-control="image-slider"]');m.preventDefault();if(l.hasClass("next")){k[g]("next")}else{if(l.hasClass("prev")){k[g]("prev")}}});e.on(i,'[data-control="image-slider"] .image-slider-thumbs a',function(l){var j=f(l.target),m=j.closest("li"),k=j.closest('[data-control="image-slider"]');l.preventDefault();if(!m.hasClass("current")){k[g]("selectThumb",m)}});e.on("focus."+g,'[data-control="image-slider"] .image-slider-thumbs a',function(l){var j=f(l.target),m=j.closest("li"),k=j.closest('[data-control="image-slider"]');l.preventDefault();setTimeout(function(){k[g]("repositionThumbs",m,true)},100)});f("[data-control=image-slider]")[g]();uitk.modules.ImageSlider=a}(jQuery,window));(function(f,j,b){var i="uitk_contentSlider",e=f("body"),d={infinite:false,controlTemplate:"#uitk-content-slider-controls-template",scrollTime:"0.5s"},h=Modernizr.touch,l=uitk.clickEvent,c=uitk.isTouchDevice,k=Modernizr.csstransitions,g=f("html").hasClass("lt-ie8");function a(m,n){var o;this.element=f(m);n=n||{};o=this.element.data()||{};this.options=f.extend(true,{},d,o,n);this.init()}a.prototype={constructor:a,init:function(){var o=this,n=o.element;if(g){n.find(".tile").addClass("current-tile");return}this.tileGrid=n.find("[class^='tile-grid']");this.contentMask=n.find(".content-slider-mask");this.numVisibleTiles=this.getNumVisibleTiles();this.uniqueId=this.options.modalId||uitk.createUniqueId();n.attr("data-unique-id",o.uniqueId);this.moveToPage(1,true);this.updateControls(true);if(Modernizr.mediaqueries){o.isMobile=false;f(j).on("resize.event"+o.uniqueId,function(){o.handleResize()});f(j).on("orientationchange.event"+o.uniqueId,function(){o.handleResize()});var m=function(q,r){if(r.key==="cs_isMobile"&&(o.isMobile!=true)){o.isMobile=true;o.updateControls(true)}if(r.key==="cs_isNotMobile"&&(o.isMobile!=false)){o.isMobile=false;o.updateControls(true)}};uitk.subscribe("mediaquery.matched",m);uitk.mediaquery.register({cs_isMobile:"(max-width: 600px)",cs_isNotMobile:"(min-width: 601px)"})}if(h){var p=null;this.contentMask.swipe({swipeStatus:function(r,q,u,v,s){if(u!=="left"&&u!=="right"){return}if(!p){p=f(r.target).closest('[data-control="content-slider"]')}if(q==="move"){if(u==="left"){p[i]("slideMove",v)}else{p[i]("slideMove",-v)}}else{if(q==="end"){p[i]("slideEnd",u,v)}else{if(q==="cancel"){p[i]("slideCancel")}}}},threshold:10,allowPageScroll:"vertical",excludedElements:""})}if(!c){this.deboucedResize=uitk.subscribe("debounced.resize",function(){o.positionPage(o.currentPage)})}},addControls:function(m,r){var n,q=this.getNumOfPages(),o;this.updateCurrentClasses(m);if(q<=1){this.element.find(".content-slider-controls").remove();return}if(!this.controlTemplate){a.prototype.controlTemplate=uitk.getCompiledTemplate(this.options.controlTemplate);var p=uitk.getCompiledTemplate("button-tag");Handlebars.registerPartial("button-tag",p)}n=this.generateModel();o=this.controlTemplate(n);if(r){this.element.find(".content-slider-controls").remove()}this.element.append(o)},generateModel:function(s,v){var w={},r=this.getCurrentPage(),o=this.getNumOfPages(),n=[],u={},m,p,q;s=s||I18n.t("content_slider_previous_label");m=(this.isMobile?"toggle270":"pageprev");w.prevButton={type:"button",classes:"btn-paging prev",isDisabledButton:false,content:'<span class="icon icon-'+m+'" aria-hidden="true"></span><span class="visuallyhidden">'+s+"</span>"};v=v||I18n.t("content_slider_next_label");p=(this.isMobile?"toggle90":"pagenext");w.nextButton={type:"button",classes:"btn-paging next",isDisabledButton:false,content:'<span class="icon icon-'+p+'" aria-hidden="true"></span><span class="visuallyhidden">'+v+"</span>"};for(q=1;q<=o;q=q+1){u={};if(q===r){u.isCurrent=true;if(q===1&&!this.options.infinite){w.prevButton.isDisabledButton=true}if(q===o&&!this.options.infinite){w.nextButton.isDisabledButton=true}}u.pageNum=q;n.push(u)}w.pages=n;w.isMobile=this.isMobile;return w},updateControls:function(m){this.addControls(m,true)},updateCurrentClasses:function(m){var o="current-tile",p=this.getCurrentPage(),q=this.getNumVisibleTiles(),n=this.tileGrid.find(".tile"),r;m=m||false;n.removeClass(o).attr("aria-hidden","true");n.find("a").attr("tabindex","-1");r=n.slice(q*(p-1),q*p);r.addClass(o).attr("aria-hidden","false");r.find("a").removeAttr("tabindex");uitk.publish("contentSlider.pageChange",this.element,p,m)},unregister:function(){f(j).off(".event"+this.uniqueId);if(this.deboucedResize){uitk.unsubscribe("debounced.resize",this.deboucedResize)}},getPagePosition:(function(){var m;if(c){m=function(o,n){var p=((o-1)*-100)+"%";return p}}else{m=function(p,o){var n,q;n=this.contentMask.width();q=((p-1)*-n)+"px";return q}}return m})(),positionPage:function(n,m){var o=this.getPagePosition(n),p=m?"0s":this.options.scrollTime;this.tileGrid.css({"-webkit-transition-duration":p,"-moz-transition-duration":p,"transition-duration":p});this.tileGrid.css({left:o})},moveToPage:function(n,m){if(n>0&&n<=this.getNumOfPages()){this.positionPage(n,m);this.setCurrentPage(n);this.updateControls()}},next:function(){var n=this.getCurrentPage(),m=n+1;if(m>this.getNumOfPages()){if(this.options.infinite===true){this.moveToPage(1)}else{this.moveToPage(n)}}else{this.moveToPage(m)}this.setPageFocus()},prev:function(){var n=this.getCurrentPage(),m=n-1;if(m<1){if(this.options.infinite===true){this.moveToPage(this.getNumOfPages())}else{this.moveToPage(n)}}else{this.moveToPage(m)}this.setPageFocus()},selectPage:function(n){var m=this.element.find(".content-slider-nav button").index(n)+1;this.moveToPage(m);this.setPageFocus()},setPageFocus:function(){var m=this,n=m.element.find(".current-tile:first");if(k){m.element.one("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(o){n.attr("tabindex","-1").focus().css("outline","none")})}else{n.attr("tabindex","-1").focus().css("outline","none")}},setCurrentPage:function(m){this.currentPage=m;this.element.attr("data-current-page",m)},getCurrentPage:function(){return this.currentPage},getNumVisibleTiles:function(){var m=this.contentMask,n=m.find(".tile"),p=m.width(),q=n.first().outerWidth(),o=Math.round(p/q);return o},getNumOfPages:function(){var o=this,p=this.tileGrid,n=p.find(".tile"),m=n.length,q=Math.ceil(m/o.numVisibleTiles);return q},getNewCurrentPage:function(q,p){var n,o=this.getCurrentPage(),s=this.getNumOfPages(),r=p*(o-1)+1,m=p*o;if(p<q){n=Math.ceil(m/q)}else{if(p>q){n=Math.ceil(r/q)}else{n=o}}n=n>s?s:n;return n},handleViewChange:function(q){if(this.uniqueId!==this.element.attr("data-unique-id")||f('[data-unique-id="'+this.uniqueId+'"]').length===0){this.unregister();return}var n,p=this.numVisibleTiles,m,o=this;this.tileGrid.addClass("view-change");this.numVisibleTiles=q;n=this.getCurrentPage();m=this.getNewCurrentPage(q,p);this.updateControls(true);if(n!==m){setTimeout(function(){o.moveToPage(m,true)},10)}setTimeout(function(){o.tileGrid.removeClass("view-change")},50)},handleResize:function(){var m=this.getNumVisibleTiles();if(this.numVisibleTiles!==m){this.handleViewChange(m)}},slideMove:function(o){var n=this.contentMask.width(),m;m=(((this.currentPage-1)*n+o)/n)*-100;this.scrollPages(m)},slideCancel:function(){this.moveToPage(this.currentPage)},slideEnd:function(n,o){var m=o/this.contentMask.width();if(m>0.08){if(n==="left"){this.next()}else{this.prev()}}else{this.moveToPage(this.currentPage)}},scrollPages:function(m){this.tileGrid.css("-webkit-transition-duration","0s");this.tileGrid.css("left",m+"%")}};f.fn[i]=function(){var o,p,m,n;if(typeof arguments[0]==="object"){o=arguments[0];p=arguments[1];m=arguments[2];n=arguments[3]}else{o={};p=arguments[0];m=arguments[1];n=arguments[2]}return this.each(function(){if(f(this).width()>0){if(!f.data(this,i)){f.data(this,i,new a(this,o))}if(typeof p==="string"){f.data(this,i)[p](m,n)}}})};f("[data-control=content-slider]")[i]();e.on(l+"."+i,'[data-control="content-slider"] .content-slider-controls button',function(o){var m=f(o.target),n=m.closest(".content-slider-controls button"),p=m.closest('[data-control="content-slider"]');o.preventDefault();if(n.hasClass("next")){p[i]("next")}else{if(n.hasClass("prev")){p[i]("prev")}else{if(n.closest(".content-slider-nav").length>0){p[i]("selectPage",n)}}}});if(c){e.on("click."+i,'[data-control="content-slider"] .content-slider-controls button',function(m){m.preventDefault()})}uitk.modules.ContentSlider=a}(jQuery,window));(function(h,l,b){var k="uitk_calendar",n="uitk_tooltip",e=h("body"),d={tooltip:true,template:"#uitk-calendar-template",minBookingLength:null},g={},j=Modernizr.touch,m=Modernizr.win8touch,c=uitk.isTouchDevice,o=uitk.clickEvent+"."+k,i,p=new Date(),f;p.setHours(0,0,0,0);f=(function(){if(j||m){return function(q){q=q||e;q.find('[data-control="calendar"]').not('[data-cal-version="touch-keyboard"]').not('[data-cal-version="button"]').not('[data-cal-version="native"]').attr("readonly","readonly")}}else{return function(){}}})();uitk.initCalendarInputs=f;function a(r,s){var v,u,q;this.element=h(r);s=s||{};if(this.element.data("control")==="calendar-button"){this.calInput=this.element.closest(".input-with-button").find('[data-control="calendar"]');this.calButton=true}else{this.calInput=this.element}v=this.calInput.data()||{};if(s.jsTheme){u=s.jsTheme}else{if(this.calInput.data("jsTheme")){u=this.calInput.data("jsTheme")}else{u=s.trigger||v.trigger||d.trigger;v.jsTheme=u}}q=g[u]||{};this.options=h.extend(true,{},d,q,v,s);this.init()}a.prototype={constructor:a,monthCache:{},dateUpdaters:{},calendarObj:false,calendarConfig:false,daysHeader:false,init:function(){var r=this;this.dateError={};if(!this.calendarObj){a.prototype.calendarObj=uitk.calendarObj;a.prototype.calendarConfig=uitk.calendarObj.config}this.startDay=uitk.calendarObj.getStartOfWeek();if(!this.calTemplate){a.prototype.calTemplate=uitk.getCompiledTemplate(this.options.template)}var s=uitk.getCompiledTemplate("button-tag");Handlebars.registerPartial("button-tag",s);if(!this.daysHeader){a.prototype.daysHeader=this.getDaysHtml()}if(this.options.startDate||this.options.endDate){if(this.options.startDate){this.startDateSelector=this.options.startDate;this.startDateField=this.calendarPair=h(this.startDateSelector)}else{this.startDateSelector="#"+this.calInput.attr("id");this.startDateField=this.calInput;this.dateType="start"}if(this.options.endDate){this.endDateSelector=this.options.endDate;this.endDateField=this.calendarPair=h(this.endDateSelector)}else{this.endDateSelector="#"+this.calInput.attr("id");this.endDateField=this.calInput;this.dateType="end"}this.options.defaultBookingLength=this.startDateField.data("default-booking-length");this.options.maxBookingLength=this.startDateField.data("max-booking-length");if(!this.options.lastValidDate){this.options.lastValidDate=this.startDateField.data("last-valid-date")}this.registerFields()}else{this.calendarPair=false;this.startDateField=this.calInput;this.dateType="start"}if(this.options.firstValidDate){this.options.firstValidDate=this.calendarObj.getDateFromString(this.options.firstValidDate)}else{this.options.firstValidDate=p}this.options.lastValidDate=this.calendarObj.getDateFromString(this.options.lastValidDate);if(this.options.tooltip){var q;q=uitk.subscribe("tooltip.hidden",function(u,v){r.tooltipClosed(v)})}},registerFields:function(){if(this.startDateSelector&&this.endDateSelector){var q=this.startDateSelector+"_"+this.endDateSelector;if(!(q in this.dateUpdaters)){this.dateUpdaters[q]=uitk.dateUpdater.register(this.startDateField[0],this.endDateField[0],this.options.minBookingLength,null,null,this.options.defaultBookingLength)}}},getDaysHtml:function(w,v){var u="",s,q,r;w=w||this.calendarConfig.getDayAbbrs();v=v||this.startDay;s=w.length;for(r=0;r<s;r=r+1){q=r+v;if(q>=s){q=q-s}u+="<li>"+w[q]+"</li>"}return u},getNextMonth:function(s,r){var q,u;if(s===this.calendarConfig.getMonths().length-1){q=0;u=r+1}else{q=s+1;u=r}return{month:q,year:u}},getPrevMonth:function(u,s){var r,q;if(u===0){r=this.calendarConfig.getMonths().length-1;q=s-1}else{r=u-1;q=s}return{month:r,year:q}},getFirstDayOffset:function(r,s){var q;s=s||this.startDay;q=r-s;if(q<0){q=7+q}return q},getMonthHtml:function(w,u){var y="",s,v,x,r,q;x=w+"-"+u;if(x in this.monthCache){return this.monthCache[x]}v=this.calendarObj.getMonthCount(w,u);r=new Date(u,w,1).getDay();q=this.getFirstDayOffset(r);for(s=1;s<=v;s=s+1){if(s===1&&q>0){y+='<li class="date-offset-'+q+'"><a href="#" class="cal-date" data-year="'+u+'" data-month="'+w+'" data-day="'+s+'">'+s+"</a></li>"}else{y+='<li><a href="#" class="cal-date" data-year="'+u+'" data-month="'+w+'" data-day="'+s+'">'+s+"</a></li>"}}this.monthCache[x]=y;return y},getCalHtml:function(u,v){var s,r,z,x,A,y="btn-paging btn-secondary prev",q,w=I18n.t("calendar_prev_month"),B=I18n.t("calendar_next_month");this.firstMonth=u;this.firstYear=v;r=this.getNextMonth(u,v);z=r.month;x=r.year;if(!(u>p.getMonth()||v>p.getFullYear())){y=y+" first-month"}A={prevButton:{type:"button",cssClass:y,content:"<span class='icon icon-pageprev' aria-hidden='true'></span><span class='visuallyhidden'>"+w+"</span>"},nextButton:{type:"button",cssClass:"btn-paging btn-secondary next",content:"<span class='icon icon-pagenext' aria-hidden='true'></span><span class='visuallyhidden'>"+B+"</span>"},calDays:this.daysHeader,month1:this.calendarConfig.getMonths()[u],year1:v,calDates1:this.getMonthHtml(u,v),month2:this.calendarConfig.getMonths()[z],year2:x,calDates2:this.getMonthHtml(z,x)};s=this.calTemplate(A);this.currentCal=h(s).data("calendar",this.element);this.currentMonth=u;this.currentYear=v;this.highlight(this.currentCal);if(!this.startDate||this.dateType==="start"){this.disableDatesBefore(this.currentCal,this.options.firstValidDate)}else{if(this.dateType==="end"){this.disableDatesBefore(this.currentCal,this.startDate);if(this.options.maxBookingLength){q=new Date(this.startDate.getTime()+(24*60*60*1000*parseInt(this.options.maxBookingLength,10)));this.disableDatesAfter(this.currentCal,q)}}}if(this.options.lastValidDate){this.disableDatesAfter(this.currentCal,this.options.lastValidDate)}return this.currentCal},nextMonth:function(q){var u=this.calContainer,s,r,v;if(q.hasClass("last-month")){u.addClass("show-second-month")}else{s=this.getNextMonth(this.currentMonth,this.currentYear);r=s.month;v=s.year;u.html(this.getCalHtml(r,v).html())}},prevMonth:function(){var s=this.calContainer,u,r,q;if(!s.hasClass("show-second-month")||s.find(".cal-month:visible").length===2){u=this.getPrevMonth(this.currentMonth,this.currentYear);r=u.month;q=u.year;s.html(this.getCalHtml(r,q).html())}s.removeClass("show-second-month")},getDateFromField:function(s,r){var u,q;q=s[k]("getDateError");if(q&&q.flagged){if(q.replacementDate&&(q.highlight||r)){u=this.calendarObj.getDateFromString(q.replacementDate)}else{u=false}}else{u=this.calendarObj.getDateFromString(s.val())}return u},getStartDate:function(q){q=q||this.getDateFromField(this.startDateField);if(!q||q.valueOf()<p.valueOf()){this.startDate=null;q=p}else{this.startDate=q}return q},getInitialCal:function(){if(this.state!=="open"){var D=this,F,r=D.options.firstValidDate,u=r.getMonth(),z=r.getFullYear(),v,A,E;this.state="open";v=this.getStartDate();if(this.endDateField){A=this.getDateFromField(this.endDateField);this.setThisEndDate(v,A)}if(this.startDate||this.endDate){if(this.dateType==="end"){E=this.getDateFromField(this.endDateField,true)||A}else{E=this.getDateFromField(this.startDateField,true)||v}if((this.lastDisplayedMonth||this.lastDisplayedMonth===0)&&this.lastDisplayedYear){u=this.lastDisplayedMonth;z=this.lastDisplayedYear}if(E&&(!this.dateError.flagged||(this.dateError.flagged&&this.dateError.replacementDate))){var y=this.dateType,q=E.getMonth(),w=E.getFullYear(),G=this.getNextMonth(u,z),s=G.month,C=G.year,x;if(!(q>=u&&w>=z&&q<=s&&w<=C)){if(y==="start"){u=q;z=w}else{if(y==="end"){x=this.getPrevMonth(q,w);u=x.month;z=x.year}}}}}this.setLastDisplayed({month:u,year:z});this.getCalHtml(u,z);F=D.currentCal;var B=F.find(".cal-month").eq(1);if(B.find(".start").length>0||(this.dateType==="end"&&B.find(".end").length>0)){F.addClass("show-second-month")}return F}},getDateLink:function(r,q){return r.find("a[data-day="+q.getDate()+"][data-month="+q.getMonth()+"][data-year="+q.getFullYear()+"]")},highlight:function(r){var s=this.highlightStart(r),q=this.highlightEnd(r);this.highlightRange(r,s,q)},highlightStart:function(r){var q=this.getDateFromField(this.startDateField);if(q){return this.getDateLink(r,q).addClass("start")}},highlightEnd:function(r){if(this.endDateField){var q=this.getDateFromField(this.endDateField);if(q){return this.getDateLink(r,q).addClass("end")}}},highlightRange:function(q,u,w){var r=q.find(".cal-dates a"),E=r.index(u)+1,z=r.index(w),v=this.startDate,y,A=this.endDate,x,D=this.currentMonth,B=this.currentYear,C,s;r.removeClass("highlight");if(E>z){r.filter(".end").removeClass("end")}if(u&&E>0){C=0}else{if(v){y=v.getFullYear();if((v.getMonth()<D&&y===B)||y<B){C=-1}else{C=1}}else{return}}if(w&&z>=0){s=0}else{if(A){x=A.getFullYear();if((A.getMonth()<D&&x===B)||x<B){s=-1}else{s=1}}else{return}}if((C<0&&s<0)||(C>0&&s>0)){return}if(C<0){E=0}else{if(C>0){return}}if(s>0){z=r.length}else{if(s<0){return}}r.slice(E,z).addClass("highlight")},tooltipClosed:function(q){if(q[0]===this.element[0]){if(this.element.data("control")==="calendar"){q.closest("label").removeClass("focused")}else{q.removeClass("focused")}this.state="closed"}},disableDates:function(q){q.each(function(){var r=h(this);r.replaceWith('<span class="cal-date disabled">'+r.text()+"</span>")})},disableDatesBefore:function(v,s){var r=v.find(".cal-date"),u=this.getDateLink(v,s),q;if(u.length>0){q=r.index(u);if(q>0){this.disableDates(r.slice(0,q));v.find("button.prev").addClass("first-month")}}},disableDatesAfter:function(r,u){var s=r.find(".cal-date"),v=s.length,x=this.getDateLink(r,u),A,q,z,y,w;if(x.length>0){A=s.index(x);if(A+1<v){this.disableDates(s.slice(A+1));r.find("button.next").addClass("last-month")}}else{q=s.first();z=q.data("year");y=q.data("month");w=u.getFullYear();if(z>w||((y>u.getMonth())&&(z===w))){this.disableDates(s);r.find("button.next").addClass("last-month")}}},selectDate:function(q){var r=new Date(q.data("year"),q.data("month"),q.data("day")),s=this;setTimeout(function(){uitk.updatePlaceholderClass(s.startDateField);if(s.endDateField){uitk.updatePlaceholderClass(s.endDateField)}},50);this.setLastDisplayed();this.clearDateError();s.element.data("showCal",false);s.calInput.val(this.calendarObj.toStringFromComp(r.getDate(),r.getMonth()+1,r.getFullYear()));uitk.publish("calendar.selectDate",{element:s.calInput,date:r});if(s.calButton){s.calInput.blur()}s.element.focus()},mouseenterDate:function(q){if(this.dateType==="start"){this.calContainer.find("a.start").removeClass("start");this.highlightRange(this.calContainer,q,this.highlightEnd(this.calContainer))}else{if(this.dateType==="end"){this.calContainer.find("a.end").removeClass("end");this.highlightRange(this.calContainer,this.highlightStart(this.calContainer),q)}}},mouseleaveDate:function(q){this.highlightRange(this.calContainer,this.highlightStart(this.calContainer),this.highlightEnd(this.calContainer))},setContainer:function(q){this.calContainer=q},setLastDisplayed:function(q,s){var u=q&&(q.month||q.month===0)?q.month:this.firstMonth,r=q&&q.year?q.year:this.firstYear;if(!s&&s!==false&&this.calendarPair){s=true}else{s=false}if(s){this.calendarPair[k]("setLastDisplayed",{month:u,year:r},false)}this.lastDisplayedMonth=u;this.lastDisplayedYear=r},setThisEndDate:function(q,r){if(!r||r.valueOf()<q.valueOf()){this.endDate=null}else{this.endDate=r}},updateOptions:function(v,r){var q,s={},u=false;if(!r&&r!==false&&this.calendarPair){r=true}else{r=false}for(q in v){if(v.hasOwnProperty(q)){switch(q){case"firstValidDate":case"lastValidDate":this.options[q]=this.calendarObj.getDateFromString(v[q]);break;case"maxBookingLength":this.options[q]=v[q];s[q]=v[q];break;default:this.options[q]=v[q]}}}if(r===true){for(q in s){if(s.hasOwnProperty(q)){u=true;break}}if(u){if(this.options.startDate){this.startDateField[k]("updateOptions",s,false)}else{if(this.options.endDate){this.endDateField[k]("updateOptions",s,false)}}}}},flagDateError:function(r,q){if(!q&&q!==false){q=true}else{q=false}this.dateError={flagged:true,replacementDate:r||false,highlight:q}},clearDateError:function(){this.dateError={flagged:false,replacementDate:false,highlight:false}},getDateError:function(){return this.dateError}};h.fn[k]=function(){var s,v,q,r,u;if(typeof arguments[0]==="object"){s=arguments[0];v=arguments[1];q=arguments[2];r=arguments[3]}else{s={};v=arguments[0];q=arguments[1];r=arguments[2]}this.each(function(){if(!h.data(this,k)){h.data(this,k,new a(this,s))}if(typeof v==="string"){u=h.data(this,k)[v](q,r)}});return u};i=function(q){var v,u=q.data("control"),r="focused";try{if(!uitk.calendarObj){throw"ERROR: The calendar control needs to be configured, please see the UI Toolkit v2 documentation for more details"}}catch(s){console.log(s);return}v=q[k]("getInitialCal");if(v!==b){q[n]({jsTheme:u});q[n]("updateContent",v);q[n]("show");q[n]("checkPos",true,true);q[k]("setContainer",q.data(n).tooltip.find(".cal"));if(u==="calendar"){q.closest("label").addClass(r)}else{q.addClass(r)}}setTimeout(function(){q.data("showCal",true)},100)};e.on("focus."+k+" "+o,"[data-control='calendar']",function(r){var q=h(r.target).closest("[data-control='calendar']");if(q.data("cal-version")==="button"&&c){uitk.tooltips.hideAll();return}if(q.data("cal-version")==="native"&&Modernizr.inputtypes.date){return}if(q.data("showCal")!==false){q.data("showCal",false);i(q)}else{q.data("showCal",true)}});e.on(o,"[data-control='calendar-button']",function(r){var q=h(r.target).closest("[data-control='calendar-button']");i(q)});e.on(o,".cal .next",{stopPropagation:true},function(s){var q=h(s.target),r=q.closest(".cal").data("calendar");s.preventDefault();s.stopPropagation();r[k]("nextMonth",q)});e.on(o,".cal .prev",{stopPropagation:true},function(s){var q=h(s.target),r=q.closest(".cal").data("calendar");s.preventDefault();s.stopPropagation();r[k]("prevMonth")});e.on(o,".cal-date",function(s){var q=h(s.target),r=q.closest(".cal").data("calendar");s.preventDefault();if(!q.hasClass("disabled")){r[k]("selectDate",q);r[n]("hide")}});e.on("mouseenter."+k,".cal-date",function(s){var q=h(s.target),r=q.closest(".cal").data("calendar");s.preventDefault();if(!q.hasClass("disabled")){r[k]("mouseenterDate",q)}});e.on("mouseleave."+k,".cal-date",function(s){var q=h(s.target),r=q.closest(".cal").data("calendar");s.preventDefault();if(!q.hasClass("disabled")){r[k]("mouseleaveDate",q)}});f();uitk.modules.Calendar=a}(jQuery,window));(function(f,l,g){var a="uitk_modal",q=f("body"),r=f("html"),v=f(document),o=f(l),m={title:false,background:true,optOut:false,ajax:false,footer:false,dismiss:true,closeBtn:true,template:"#uitk-modal-template",takeover:true},u={},x="active",h="active-modal",p="active-modal-no-bg",i="modal-wrap",n="modal-inner",b="modal-background",c="modal-close",w=Modernizr.sessionstorage,e=uitk.clickEvent+"."+a,s=Modernizr.positionfixed,k="modal-takeover";var j=function(y,B,A){var z=f("."+i);z.each(function(){f(this).data("modal").close(y,B,A)})};function d(z,A){var C,B,y;this.element=f(z);A=A||{};C=this.element.data()||{};if(A.jsTheme){B=A.jsTheme}else{if(this.element.data("jsTheme")){B=this.element.data("jsTheme")}}y=u[B]||{};this.options=f.extend(true,{},m,y,C,A);this.options.optOutStorage=this.options.optOut&&w;this.options.takeover=this.options.takeover&&uitk.isTouchDevice;this.options.removalTime=this.options.takeover?750:500;this.init()}d.prototype={constructor:d,init:function(){var z=this,y=this.options;if(y.optOutStorage){this.storageKey="modal-opt-out-"+y.modalId;if(sessionStorage.getItem(this.storageKey)==="true"){return false}}this.getContent();if(!this.modalTemplate){d.prototype.modalTemplate=uitk.getCompiledTemplate(this.options.template);d.prototype.modalTitleTemplate=uitk.getCompiledTemplate("uitk-modal-title-template");var A=uitk.getCompiledTemplate("button-tag");Handlebars.registerPartial("button-tag",A)}z.getHtml()},isHtml:function(y){return y.indexOf(">")!==-1},getContentFromJquery:function(y){return f("<div></div>").append(y).html()},getContent:function(){var A=this.options.content,B=false,z=false,y=this;if(!A){A=this.element.attr("href");B=true}if(this.options.ajax){y.contentRequest=f.get(A,function(C){y.updateContent(C)})}else{if(typeof A==="string"){z=y.isHtml(A);if(z){this.content=A}else{if(!B){A="#"+A}this.content=f(A).html()}}else{if(A instanceof jQuery){this.content=y.getContentFromJquery(A)}else{this.content=""}}}},updateTitle:function(A){var z=this,y=z.modalWrap.find(".modal-title");if(!A){z.modalWrap.find(".modal-header").remove();this.options.title=false}else{if(y.length>0){y.html(A)}else{this.modalWrap.find(".modal-inner").prepend(f(this.modalTitleTemplate({title:A,id:this.options.id})))}this.options.title=A}return this},updateContent:function(z,A){var y=this;if(typeof z==="string"&&this.isHtml(z)){y.content=z}else{if(z instanceof jQuery){this.content=y.getContentFromJquery(z)}else{this.content="";y.modalInnerHtml.addClass("loading").attr("aria-busy","true")}}if(y.modalWrap){y.modalWrap.find(".modal-body").html(this.content);uitk.initCalendarInputs(y.modalWrap);if(A!==g){y.updateTitle(A)}if(uitk&&uitk.publish){uitk.publish("modal.appended",y)}if(this.content!==""){y.modalInnerHtml.removeClass("loading").attr("aria-busy","false")}}return this},getModalData:function(){var z={},y=this.options;z.title=y.title;z.id=y.modalId;z.optOut=y.optOutStorage;z.optOutText=y.optOutText||false;z.theme=y.jsTheme;z.dismiss=y.dismiss&&y.background;z.closeBtn=y.closeBtn;z.closeText=y.closeText;z.background=y.background;z.content=this.content||"";z.footer=y.footer||y.optOut;z.footerCloseButton={type:"button",id:"footerModalCloseButton",cssClass:"btn-utility btn-secondary modal-close",content:z.closeText||I18n.t("close")};z.closeButton={type:"button",id:"modalCloseButton",cssClass:"btn-close modal-close btn-primary",content:'<span class="icon icon-close" aria-hidden="true"></span><span class="alt">'+I18n.t("close")+"</span>"};return z},getHtml:function(){var z=this.getModalData(),y=f(this.modalTemplate(z));this.modalHtml=y;this.modalWrap=y.filter("."+i);this.modalBg=y.filter("."+b);this.modalInnerHtml=this.modalWrap.find("."+n)},setModalFocus:function(){var z=this,A,B=-1,y;A=this.modalWrap.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible:not([tabindex=-1])");y=A.length-1;this.modalWrap.focus();if(A.length>1){v.on("keydown.focus",function(C){if(C.keyCode===9){C.preventDefault();if(C.shiftKey){B=z.setPrevFocus(B,y)}else{B=z.setNextFocus(B,y)}A.eq(B).focus()}})}},setNextFocus:function(z,y){if(z===y){return 0}else{return z+1}},setPrevFocus:function(z,y){if(z<=0){return y}else{return z-1}},removeModalFocus:function(){var y=this;v.off("keydown.focus");if(y.lastFocused&&(q.has(y.lastFocused).length>0)){y.lastFocused.focus()}},appendHtml:function(){var y=this;this.modalWrap.data("modal",this);this.modalHtml.appendTo(q);uitk.refreshPlaceholders();if(this.content&&uitk&&uitk.publish){uitk.publish("modal.appended",y)}setTimeout(function(){if(y.options.takeover&&y.options.background){y.scrollPosition=v.scrollTop();r.addClass(k);y.modalBg.addClass(x);setTimeout(function(){r.addClass(h);v.scrollTop(0);y.modalWrap.addClass(x);y.setModalFocus()},300)}else{r.removeClass(k);y.scrollPosition=null;if(!y.options.background){r.addClass(p)}r.addClass(h);setTimeout(function(){y.modalWrap.addClass(x);y.modalBg.addClass(x)},0);y.setModalFocus()}},100)},open:function(C,B){var A=this,y="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",D="input:not([readonly]), textarea";function z(){if(!f(document.activeElement).is(D)){var E=((o.scrollTop())/17)+"em";A.modalHtml.css({top:E})}}if((this.options.manual==="open"||this.options.manual==="both")&&C){uitk.publish("modal.beforeOpen",A,B);return false}this.lastFocused=this.element;if(this.options.optOutStorage){if(sessionStorage.getItem(this.storageKey)==="true"){return false}}A.appendHtml();if(!s&&!this.options.background){setTimeout(function(){z();uitk.subscribe("debounced.scroll",function(){z()});A.modalHtml.on("blur",D,function(){setTimeout(function(){z()},0)})},10)}return this},close:function(G,C,z){var E=this,A,D,I=this.options,F="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",H=false,B,y;if((G==="background"&&!I.background)||(G==="background"&&!I.dismiss)||(G==="esc"&&!I.dismiss)){return false}if((this.options.manual==="close"||this.options.manual==="both")&&C){uitk.publish("modal.beforeClose",E,z);return false}this.removeModalFocus();if(E.options.background){y=f("."+b);this.backgroundOpacity=y.css("opacity")}B=function(J){J.on(F,function(){J.off(F).remove();if(H&&f(".modal-wrap").length===0){r.removeClass(h+" "+p)}else{if(H&&f(".modal-background").length>0){r.removeClass(p)}else{H=true}}if(!J.hasClass(b)&&E.options.background){if(parseFloat(E.backgroundOpacity)===0){y.trigger("transitionEnd")}}})};if(Modernizr.csstransitions){B(E.modalWrap);if(E.options.background){B(E.modalBg)}else{H=true}setTimeout(function(){E.modalWrap.trigger("transitionEnd");E.modalBg.trigger("transitionEnd")},E.options.removalTime)}if(this.options.optOutStorage){A=this.modalWrap.find("input[name="+this.options.modalId+"-opt-out]");if(A&&A.attr("checked")){D="true"}else{D="false"}sessionStorage.setItem(this.storageKey,D)}if(E.options.takeover&&E.options.background){this.modalWrap.removeClass(x);setTimeout(function(){r.removeClass(h);E.modalBg.removeClass(x);uitk.publish("modal.close",E)},250);setTimeout(function(){v.scrollTop(E.scrollPosition)},350)}else{this.modalWrap.removeClass(x);this.modalBg.removeClass(x);uitk.publish("modal.close",E)}if(!Modernizr.csstransitions){E.modalHtml.remove();if(f(".modal-wrap").length===0){r.removeClass(h+" "+p)}else{if(f(".modal-background").length>0){r.removeClass(p)}}}if(!s&&!this.options.background){uitk.unsubscribe("debounced.scroll")}return this}};f.fn[a]=function(){var A,B,y,z;if(typeof arguments[0]==="object"){A=arguments[0];B=arguments[1];y=arguments[2];z=arguments[3]}else{A={};B=arguments[0];y=arguments[1];z=arguments[2]}return this.each(function(){if(!f.data(this,a)){f.data(this,a,new d(this,A))}if(typeof B==="string"){f.data(this,a)[B](y,z)}})};q.on(e,'[data-control="modal"]',function(z){var y=f(z.target).closest('[data-control="modal"]');z.preventDefault();y[a]("open",true,z)});q.on(e,"."+i,function(y){if(f(y.target).hasClass(i)){y.preventDefault();j("background",true,y)}});q.on(e,"."+b,function(y){y.preventDefault();if(r.hasClass(k)){j("background",true,y)}});q.on(e,"."+c,function(y){y.preventDefault();j("close-button",true,y)});v.on("keydown",function(y){if(y.keyCode===27){j("esc",true,y)}});f(l).on("orientationchange",function(){var y=document.activeElement,z=f(y),A=y.tagName;if((A==="INPUT"||A==="TEXTAREA")&&!y.hasAttribute("readonly")&&z.closest(".modal-inner").length>0){z.blur().focus()}});q.on("blur",".modal-inner input",function(y){if(f(y.target).data("control")!=="calendar"){q.css("height","+=10000").css("height","-=10000");setTimeout(function(){q.css("height","")},0)}});uitk.modal={create:function(y){var z=new d(null,y);z.open(true);return z},close:j};uitk.modules.Modal=d}(jQuery,window));(function(e,c,a,h){var d="uitk_dropDown",g={},b="[data-control=menu]";function f(i,j){var k;this.element=e(i);j=j||{};k=this.element.data()||{};this.options=e.extend(true,{},g,k,j);this.init()}f.prototype={constructor:f,init:function(){var j=this.element,i=this.element.attr("data-target");if(!i){i=j.attr("href");i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}this.$parent=e(i);this.$parent.length||(this.$parent=j.parent())},open:function(){this.$parent.addClass("open");this.element.attr("aria-expanded","true");a.publish("menu.opened",{$menu:this.element})},close:function(){this.$parent.removeClass("open");this.element.attr("aria-expanded","false")},closeAll:function(){e(b).parent().removeClass("open");e(b).attr("aria-expanded","false")},toggle:function(){var j;if(this.element.is(".disabled, :disabled")){return}j=this.$parent.hasClass("open");this.closeAll();if(!j){this.$parent.toggleClass("open");a.publish("menu.opened",{$menu:this.element});var k="0",i;this.element.attr("aria-expanded","true");this.$parent.keyup(function(){k++;var l=e(this).find(".menu ul li:first-child a");if(k<=1){l.focus()}})}return false}};e.fn[d]=function(){var k,l,i,j;if(typeof arguments[0]==="object"){k=arguments[0];l=arguments[1];i=arguments[2]}else{k={};l=arguments[0];i=arguments[1]}return this.each(function(){if(!e.data(this,d)){e.data(this,d,new f(this,k))}if(typeof l==="string"){e.data(this,d)[l](i,j)}})};e("html").on(a.clickEvent+".dropdown.data-api",{preventDefault:false},function(k){var j=e(k.target).closest(".menu"),i=e(k.target).closest(b);if(j&&j.length>0&&j.hasClass("sticky")){return}if(j&&j.length>0){if(j.hasClass("sticky")){return}else{setTimeout(function(){f.prototype.closeAll()},500)}}else{if(i.length===0){f.prototype.closeAll()}}});e("body").on(a.clickEvent+".dropdown",".dropdown form",function(i){i.stopPropagation()}).on(a.clickEvent+".dropdown.data-api",b,function(j){j.preventDefault();var i=e(j.target).closest(b);i[d]("toggle")}).on(a.clickEvent,".menu .close",function(j){j.preventDefault();var i=e(j.target).closest(".menu").prev(b);i[d]("close");e(this).closest(".btn-group").find(".dropdown-toggle").attr("tabindex","0").focus()}).on(a.clickEvent,".dropdown-toggle",function(){e(this).next(".menu").find("label").first().attr("tabindex","0").focus()})}(jQuery,window,window.uitk));uitk.initSocial=function(){var a=$(".socialize.medium"),b;if(a.length>0){b=$LAB.sandbox();window.twttr=(t={_e:[],ready:function(c){t._e.push(c)}});b.queueScript("//connect.facebook.net/en_US/all.js#xfbml=1&appId=131538103586818").queueScript("//platform.twitter.com/widgets.js").queueScript("//apis.google.com/js/plusone.js").queueScript("//assets.pinterest.com/js/pinit.js").queueWait(function(){a.css("visibility","visible")}).runQueue();if(typeof dctk!=="undefined"&&typeof dctk.omtr!=="undefined"){dctk.trackActionModified=function(e,g,d,h,f,c){dctk.omtr.trackExternalLinks=false;dctk.omtr.linkTrackVars=e;dctk.omtr.linkTrackEvents=g;dctk.omtr.prop16=d;dctk.omtr.eVar28=h;dctk.omtr.events=f;dctk.omtr.tl(true,c,"Social:Share Success")};window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(c,d){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Like","Social.Facebook.Like","event48","o")});FB.Event.subscribe("message.send",function(c){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Send","Social.Facebook.Send","event48","o")})};window.gplusCallback=function(){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.GPlus.Share","Social.GPlus.Share","event48","o")};twttr.ready(function(c){c.events.bind("tweet",function(d){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Twitter.Share","Social.Twitter.Share","event48","o")})});$(".share-pinterest").on("click",function(){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Pinterest.Share","Social.Pinterest.Share","event48","e");return false});$(".share-email").on("click",function(){dctk.trackActionModified("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Email.Share","Social.Email.Share","event48","e")})}}$("a.share-tab.share-facebook").on("click",function(){window.open("https://www.facebook.com/dialog/feed?app_id=131538103586818&link="+$(this).attr("data-url")+"&picture="+$(this).attr("data-image-url")+"&redirect_uri="+$(this).attr("data-url")+"&display=popup","","width=626,height=436");return false});$("a.share-tab.share-twitter").on("click",function(){window.open("https://twitter.com/intent/tweet?url="+$(this).attr("data-url")+"&text="+$(this).attr("data-description"),"","width=626,height=436");return false});$("a.share-tab.share-googleplus").on("click",function(){window.open("https://plus.google.com/share?url="+$(this).attr("data-url"),"","width=600,height=600");return false});$("a.share-tab.share-pinterest").on("click",function(){window.open("https://pinterest.com/pin/create/button/?url="+$(this).attr("data-url")+"&media="+$(this).attr("data-image-url")+"&description="+$(this).attr("data-description"),"","width=600,height=300");return false})};(function(d,a,f){uitk.map={};var e,c,b;uitk.map.loadApi=function(){b=uitk.map.config||{};e="//maps.googleapis.com/maps/api/js?v=3&callback=uitk.map.initPlugin";b.client=b.client||"gme-expedia";e=e+"&client="+b.client;if(b.language){e=e+"&language="+b.language}b.sensor=b.sensor||false;e=e+"&sensor="+b.sensor;if(b.channel){e=e+"&channel="+b.channel}var g=document.createElement("script");g.type="text/javascript";g.src=e;document.body.appendChild(g)};uitk.map.initPlugin=function(){c()};c=function(){var n="uitk_map",k=d("body"),i=d(document),j={title:false,subtitle:false,center:"0,0",zoom:2,zoomToFit:false,template:"#uitk-map-template",legend:false,legendContent:"",mapType:"ROADMAP",maxZIndex:5000,fullscreen:true},l="map-overlay",p="active",r="map-active",g="map-close",m=Modernizr.touch,q=uitk.clickEvent+"."+n;var o=function(){var s=d("."+l+"."+p);s.each(function(){d(this).data("map").close()})};function h(s,u){var v;this.element=d(s);u=u||{};v=this.element.data()||{};this.options=d.extend(true,{},j,v,u);this.getCustomParams();this.init()}h.prototype={constructor:h,init:function(){var u=this.element,s=this;u.attr("data-control","map");if(!this.mapTemplate){this.mapTemplate=uitk.getCompiledTemplate(this.options.template);var v=uitk.getCompiledTemplate("button-tag");Handlebars.registerPartial("button-tag",v)}s.canvasId=uitk.createUniqueId()+"-canvas";s.getHtml();if(!this.options.fullscreen){this.open()}},appendHtml:function(){var s=this;this.mapHtml.data("map",this);if(this.options.fullscreen){this.mapHtml.appendTo(k)}else{this.element.prepend(this.mapHtml)}if(this.checkBrowserState()){setTimeout(function(){s.mapHtml.addClass(p);if(s.options.fullscreen){k.addClass(r)}s.loadMap()},100)}},checkBrowserState:function(){if(uitk.isTouchDevice&&this.options.fullscreen){var s=document.documentElement.clientWidth/a.innerWidth;if(s>1.01){return false}}return true},getCustomParams:function(){var v=uitk.map.data,u,s;if(v){u=v[this.options.configId];if(typeof u==="object"){s=u.customParams;if(s){this.options=d.extend(true,this.options,s)}}else{}}},getHtml:function(){var s=this.getMapData();if(this.options.fullscreen){s.closeButton={type:"button",classes:"btn-sub-action btn-secondary map-close",content:I18n.t("map_close")};this.mapHtml=d(this.mapTemplate(s))}else{this.mapHtml=d('<div id="'+this.canvasId+'" class="map-canvas"></div>')}},getMapData:function(){var u={},s=this.options;u.title=s.title;u.subtitle=s.subtitle;u.id=s.configId;u.legend=s.legend;u.legendcontent=s.legendContent;u.canvasid=this.canvasId;return u},getData:function(u){var w=uitk.map.data,v,s;if(w){v=w[this.options.configId];if(v){s=v[u]}}return s},getMarkerData:function(){return this.getData("markerData")},loadMarkers:function(){var w=this,u=this.getMarkerData(),x=[];this.currMarkerData=null;if(u){d.each(u.markers,function(z,A){w.loadMarker(A);var y=w.stringToLatLng(A.latlong);x.push(y)})}if(this.options.zoomToFit){this.bounds=new google.maps.LatLngBounds();for(var v=0,s=x.length;v<s;v++){this.bounds.extend(x[v])}this.map.fitBounds(this.bounds)}google.maps.event.addListener(this.infowindow,"closeclick",function(){w.closeMarkerInfo()})},loadMarker:function(w){var x=this,v=x.stringToLatLng(w.latlong);var s=x.customMarker(w.type);var y;if(typeof w.name!="undefined"){y=w.name.replace(/(<([^>]+)>)/ig,"").replace(/(\r\n|\n|\r)/gm,"")}var u=new google.maps.Marker({map:this.map,title:y,content:w.content,position:v,icon:s.icon,zIndex:x.options.maxZIndex});if(typeof s.shadow.url==="undefined"){u.setFlat(true)}else{u.setShadow(s.shadow)}google.maps.event.addListener(u,"click",function(){x.showMarkerInfo(u,w)});x.options.maxZIndex--;return u},customMarker:function(s){var u={},y=uitk.corePath();u.icon={};u.shadow={};switch(s){case"blue-pin":u.icon.url=y+"images/blu-marker.png";break;case"red-dot":u.icon.url=y+"images/reddot.png";u.icon.size=new google.maps.Size(10,10);u.icon.anchor=new google.maps.Point(5,5);break;case"red-pin":u.icon.url=y+"images/red-marker.png";break;case"grey-pin":u.icon.url=y+"images/grey-marker.png";break;case"":case f:u.icon.url=y+"images/red-marker.png";break;default:var x=s.size,w=s.anchor,v=s.url;if(v){if(x){u.icon.size=new google.maps.Size(x.x,x.y)}if(w){u.icon.anchor=new google.maps.Point(w.x,w.y)}u.icon.url=v}else{u.icon.url=y+"images/red-marker.png"}}return u},showMarkerInfo:function(s,u){var y=this,v="",z,x,w;if(s&&u){z=u.name,x=u.content,w=u.width;if(typeof x!="undefined"){v='<div class="marker-content secondary">'+x+"</div>";if(typeof z!="undefined"){v='<h5 class="marker-title">'+z+"</h5>"+v}if(typeof w!="undefined"){v='<div style="width:'+w+'px">'+v+"</div>"}y.infowindow.setContent(v);y.infowindow.open(y.map,s);y.currMarkerData=u;this.currMarkerData=u;if(uitk&&uitk.publish){uitk.publish("map.marker.opened",u)}}}},closeMarkerInfo:function(){this.infowindow.close();if(uitk&&uitk.publish&&(this.currMarkerData!=null)){uitk.publish("map.marker.closed",this.currMarkerData)}this.currMarkerData=null},loadPolygons:function(){var y=this,v=y.getData("polygonData"),u=[];if(v){var s=v.polygons;if(s&&d.isArray(s)){for(var x=0;x<s.length;x++){var w=s[x],z=y.loadPolygon(w);u.push(z)}}}},loadPolygon:function(w){var v=this,s=w.latLongs,u=v.convertPolygonLatLngsToGoogle(s),x=v.buildGooglePolygon(w,u);return x},convertPolygonLatLngsToGoogle:function(s){var y=this,u;if(s&&d.isArray(s)){u=[];for(var v=0;v<s.length;v++){var x=s[v],w=y.stringToLatLng(x);if(w){u.push(w)}}}return u},buildGooglePolygon:function(v,s){var u=this,w;if(v&&s&&d.isArray(s)&&s.length>0){w=new google.maps.Polygon({map:u.map,paths:s,strokeColor:(v.strokeColor)?v.strokeColor:"#FFF",strokeOpacity:(v.strokeOpacity)?v.strokeOpacity:1,strokeWeight:(v.strokeWeight)?v.strokeWeight:1,fillColor:(v.fillColor)?v.fillColor:"#FFF",fillOpacity:(v.fillOpacity)?v.fillOpacity:0.5})}return w},loadMap:function(){var w=this,s=w.stringToLatLng(w.options.center),v=w.options,u,x;u={scaleControl:true,center:s,zoom:v.zoom,mapTypeId:google.maps.MapTypeId[v.mapType]};if(!v.fullscreen&&v.title){u.panControlOptions={position:google.maps.ControlPosition.LEFT_CENTER};u.zoomControlOptions={position:google.maps.ControlPosition.LEFT_CENTER}}x=uitk.map.data[v.configId];if(typeof x.mapOptions==="object"){d.extend(u,x.mapOptions)}w.map=new google.maps.Map(document.getElementById(this.canvasId),u);w.infowindow=new google.maps.InfoWindow({maxWidth:400});w.loadMarkers();w.loadPolygons();uitk.mapObj=w.map;if(uitk&&uitk.publish){uitk.publish("map.appended",w)}uitk.subscribe("debounced.resize",function(){if(v.zoomToFit){w.map.fitBounds(w.bounds)}else{w.map.setCenter(u.center)}});google.maps.event.addListener(this.map,"click",function(){w.closeMarkerInfo()})},open:function(){var s=this;if(uitk.isTouchDevice){s.scrollPosition=i.scrollTop()}s.appendHtml()},close:function(){var u=this,s=this.scrollPosition||0;if(uitk&&uitk.publish){uitk.publish("map.close",u)}if(u.options.fullscreen){k.removeClass(r);if(uitk.isTouchDevice){i.scrollTop(this.scrollPosition)}}this.mapHtml.removeClass(p);setTimeout(function(){u.mapHtml.remove();uitk.mapObj=null;delete uitk.mapObj},600)},stringToLatLng:function(y){var v,x=",";if(typeof y==="string"&&y.indexOf(x)>0){var u=y.split(x),w=parseFloat(u[0]),s=parseFloat(u[1]);if(w&&s){v=new google.maps.LatLng(w,s)}}return v}};d.fn[n]=function(){var u,v,s;if(typeof arguments[0]==="object"){u=arguments[0];v=arguments[1];s=arguments[2]}else{u={};v=arguments[0];s=arguments[1]}return this.each(function(){if(!d.data(this,n)){d.data(this,n,new h(this,u))}if(typeof v==="string"){d.data(this,n)[v](s)}})};d('[data-control="map"][data-fullscreen="false"]')[n]();k.on(q,'[data-control="map"][data-fullscreen="true"]',function(u){var s=d(u.target).closest('[data-control="map"]');u.preventDefault();s[n]("open")});k.on(q,"."+g,function(s){s.preventDefault();o()});i.on("keydown",function(s){if(s.keyCode===27){o()}});uitk.map.create=function(u){var s=new h(null,u);s.open();return s};uitk.map.close=o;if(uitk&&uitk.publish){uitk.publish("mapLoaded")}uitk.modules.Map=h}}(jQuery,window));(function(d,a,f){var c="uitk_pagination",b=d("body");function e(g,h){this.DEFAULT_RESULTS_PER_PAGE=10;this.DEFAULT_TOTAL_PAGES_TO_DISPLAY=7;this.$element=d(g);this.topLink=this.$element.data("top-link")||false;if(typeof this.topLink!="boolean"){throw new TypeError("UITK Pagination: The 'data-top-link' attribute must be true or false.")}this.totalNumberOfResults=this.$element.data("total-results");if(!this.totalNumberOfResults){throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-total-results' attribute.")}else{if(typeof this.totalNumberOfResults!="number"){throw new TypeError("UITK Pagination: The 'data-total-results' attribute must be a number.")}}this.currentFirstResult=this.$element.data("first-result");if(!this.currentFirstResult){throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-first-result' attribute.")}else{if(typeof this.currentFirstResult!="number"){throw new TypeError("UITK Pagination: The 'data-first-result' attribute must be a number.")}}this.resultsPerPage=this.$element.data("per-page");if(!this.resultsPerPage||this.resultsPerPage===0){this.resultsPerPage=this.DEFAULT_RESULTS_PER_PAGE}else{if(typeof this.resultsPerPage!="number"){throw new TypeError("UITK Pagination: The 'data-per-page' attribute must be a number.")}}this.totalPagesToDisplay=this.$element.data("pages-to-display");if(!this.totalPagesToDisplay||this.totalPagesToDisplay===0){this.totalPagesToDisplay=this.DEFAULT_TOTAL_PAGES_TO_DISPLAY}else{if(typeof this.totalPagesToDisplay!="number"){throw new TypeError("UITK Pagination: The 'data-pages-to-display' attribute must be a number.")}}this.totalPages=Math.ceil(this.totalNumberOfResults/this.resultsPerPage);this.displayPagination=this.totalPages>1;this.currentPageNum=Math.ceil(this.currentFirstResult/this.resultsPerPage);this.showEllipses=false;this.firstPage={number:1};this.lastPage={number:this.totalPages};this.showResults=true;this.isSinglePage=this.totalPages===1;this.init()}e.prototype={constructor:e,init:function(){var h=uitk.getCompiledTemplate("uitk-pagination-page-template"),i=this;Handlebars.registerPartial("uitk-pagination-page-template",h);this.calculateValues();i.showPages=true;if(Modernizr.mediaqueries){var g=function(j,k){if(k.key==="pag_isMobile"&&(i.showPages!=false)){i.showPages=false;i.render()}if(k.key==="pag_isNotMobile"&&(i.showPages!=true)){i.showPages=true;i.render()}};uitk.subscribe("mediaquery.matched",g);uitk.mediaquery.register({pag_isMobile:"(max-width: 600px)",pag_isNotMobile:"(min-width: 601px)"})}this.render()},calculateValues:function(){var h=this.calcStartPage(this.totalPages,this.totalPagesToDisplay,this.currentPageNum),g=Math.min(this.totalPagesToDisplay,this.totalPages);this.calcPageVars(this.currentPageNum,this.totalPages);this.currentLastResult=Math.min(this.currentFirstResult+this.resultsPerPage-1,this.totalNumberOfResults);this.showEllipses=this.calcShowEllipses(h,g,this.totalPages);if(this.showEllipses){g-=2;h=Math.ceil(this.currentPageNum-(g/2))}this.pages=this.generatePages(g,h,this.currentPageNum)},calcStartPage:function(i,g,h){if(i<g||h<=(g/2)){return 1}if(h===i||h+g/2>=i){return i-g+1}return Math.ceil(h-(g/2))},calcPageVars:function(h,g){this.onFirstPage=(h===1);this.onLastPage=(h===g);this.prevPageNum=h-1;this.nextPageNum=h+1},calcShowEllipses:function(i,g,h){return(i>1&&(i+g)<=h)},generatePages:function(h,l,k){var g=[];for(var j=0;j<h;j++){g[j]={number:l+j};if(k===l+j){g[j].isCurrentPage=true}}return g},goToPage:function(g){this.currentPageNum=g;this.currentFirstResult=(this.currentPageNum-1)*this.resultsPerPage+1;this.calculateValues();this.render();var h={pageNumber:g};uitk.publish("pagination.pageChanged",h)},prevPage:function(){this.goToPage(this.currentPageNum-1)},nextPage:function(){this.goToPage(this.currentPageNum+1)},render:function(){var h=uitk.getCompiledTemplate("uitk-pagination-content-template"),g=h(this);this.$element.html(g)}};d.fn[c]=function(){var i,j,g,h;if(typeof arguments[0]==="object"){i=arguments[0];j=arguments[1];g=arguments[2];h=arguments[3]}else{i={};j=arguments[0];g=arguments[1];h=arguments[2]}return this.each(function(){if(!d.data(this,c)){d.data(this,c,new e(this,i))}if(typeof j==="string"){d.data(this,c)[j](g,h)}})};d(".pagination[data-single-page]")[c]();b.on(uitk.clickEvent,".pagination .pagination-label",function(j){var h=d(j.currentTarget),g=h.closest(".pagination[data-single-page]"),k=h.prev("input"),i=parseInt(k.val(),10);j.preventDefault();g[c]("goToPage",i)});b.on(uitk.clickEvent,".pagination-prev, .pagination-next",function(i){var h=d(i.currentTarget),g=h.closest(".pagination[data-single-page]");i.preventDefault();if(h.hasClass("pagination-prev")){g[c]("prevPage")}else{g[c]("nextPage")}});b.on("keyup",".pagination input",function(j){var h=d(j.currentTarget),g=h.closest(".pagination");if(j.keyCode===32){var i=parseInt(h.val(),10);g[c]("goToPage",i)}});b.on("click",".backToTop",function(g){a.scrollTo(0,0)})}(jQuery,window));(function(e,d,g){var b,h;b=".sort-filter-bar";var f=function(i){return i.val()},c=function(l){var m=[],j=l.closest(b).find('input[type="checkbox"]');var k=j.length;for(var i=0;i<k;i++){if(j[i].checked==true){m.push(j[i].value)}}return m};var a=function(k,i){var j={};j.sortBy=k;j.filterBy=i;uitk.publish("sortBar.changed",j)};e("body").on(uitk.clickEvent,b+" input",function(k){var i=e(k.currentTarget),j=i.closest("input");if(!uitk.supportsChecked){uitk.checkme(i,b)}a(f(j),c(j))});uitk.modules.sortbar={publishSortBarChange:a}}(jQuery,window));(function(f,c,h){var e="uitk_responsive_sortbar",d=f("body"),g={barTemplateId:"#uitk-responsive-sortbar-template",contentsTemplateId:"#uitk-responsive-sortbar-contents-template",optionsTemplateId:"#uitk-responsive-sortbar-options-template",moreTemplateId:"#uitk-responsive-sortbar-more-template",minVisibleWithLabel:2,mobileView:true,mobileViewForce:false},a=uitk.clickEvent+"."+e;function b(i,j){var k;this.element=f(i);j=j||{};k=this.element.data()||{};this.options=f.extend(true,{},g,k,j);this.init()}b.prototype={constructor:b,init:function(){var j=this,i;if(Modernizr.mq("only all")&&j.options.mobileView===true&&j.options.mobileViewForce===false){i=uitk.subscribe("mediaquery.matched",function(k,l){if(l.key==="uitk_sortbar"){uitk.unsubscribe("mediaquery.matched",i);j.addSortBar()}});uitk.mediaquery.publishAgain()}else{j.addSortBar()}j.currentSelection=j.element.find("select").val()},addSortBar:function(){var i=this;i.handleEvent=true;i.storeTemplates();i.parseSelect();if(i.options.mobileViewForce===false){i.appendBarHtml()}i.storeOptionWidths();i.updateVisibility();if(i.optionsJson.more){i.updateSortbar(true)}uitk.subscribe("throttled.resize",function(){i.handleResize()})},storeTemplates:function(){var j=this,i=uitk.getCompiledTemplate("icon-tag");j.barTemplate=uitk.getCompiledTemplate(j.options.barTemplateId);j.contentsTemplate=uitk.getCompiledTemplate(j.options.contentsTemplateId);j.optionsTemplate=uitk.getCompiledTemplate(j.options.optionsTemplateId);j.moreTemplate=uitk.getCompiledTemplate(j.options.moreTemplateId);Handlebars.registerPartial("icon-tag",i)},parseSelect:function(){var n=this,w={},r=n.element.find(".sort-bar-select-wrap"),k=r.find("select"),p=r.find(".btn-label + .visuallyhidden").text(),q=r.find(".inline-label").text(),j=k.children("option"),v=j.length,l;n.optionsJson={};n.optionsJson.order=[];n.optionsJson.filterLabel=p;n.optionsJson.sortLabel=q;n.optionsJson.showSortLabel=true;n.optionsJson.toggleLeft=r.hasClass("toggle-left");n.optionsJson.toggleRight=r.hasClass("toggle-right");n.optionsJson.moreLabel=n.options.moreLabel;for(l=0;l<v;l=l+1){var s=j.eq(l),u=s.data("optGroup"),m=n.parseOptions(s),o={};if(w[u]){o.states={};o.states["0"]=w[u];o.states["1"]=m;o.icon={name:"updown"};o.group=u;o.dataAttributes=w[u].dataAttributes;if(o.states["0"].selected){o.selected=true}else{if(o.states["1"].selected){o.selected=true}}}else{n.optionsJson.order.push(u);o=m}o.visible=true;w[u]=o}n.optionsJson.options=w},parseOptions:function(o){var k={},n=o.data(),m,l="",j,i;k.label=o.text();k.id=n.optId;k.group=n.optGroup;k.value=o.attr("value");for(m in n){if(n.hasOwnProperty(m)&&m!=="optId"){j=n[m];i=m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();l+=" data-"+i+'="'+j+'"'}}k.dataAttributes=l;if(o.attr("selected")==="selected"){k.selected=true}return k},appendBarHtml:function(){var j=this,i=j.optionsJson,k={filterLabel:i.filterLabel,sortLabel:i.sortLabel,toggleLeft:i.toggleLeft,toggleRight:i.toggleRight,moreLabel:i.moreLabel,showSortLabel:true,options:j.getOptionsArray()};j.element.append(j.barTemplate(k))},getOptionsArray:function(){var i=this.optionsJson;return f.map(i.order,function(j){return[i.options[j]]})},storeOptionWidths:function(){var p=this,o=p.element.find(".sort-options"),j=o.find(".tab"),k=j.length,l,n=0;for(l=0;l<k;l=l+1){var q=j.eq(l),m=q.outerWidth();n+=m;p.optionsJson.options[q.data("optGroup")].width=m}p.optionsJson.totalWidth=n;p.optionsJson.sortLabelWidth=o.find(".sort-bar-label").outerWidth()},publishChanged:function(){var j=this.element.find("select").val(),i=(j!==this.currentSelection);this.currentSelection=j;uitk.publish("sortBar.changed",{sortBy:j,hasChanged:i})},handleResize:function(){var i=this,j=i.updateVisibility();i.updateSortbar(j,false)},handleSelect:function(i){var j=this;if(j.handleEvent){var k=i.find(":selected").data(),l,m;m=j.updateSelection(k.optGroup,k.optId);l=j.updateVisibility();j.updateSortbar(l,m)}j.publishChanged()},handleSortBar:function(i,j){var k=this,l=i.data(),m,n;k.element.find(".more.open .tab").uitk_dropDown("close");if(j==="bar"){n=k.updateSelection(l.optGroup)}else{if(j==="menu"){n=k.updateSelection(l.optGroup,l.optId)}}m=k.updateVisibility();k.updateSortbar(m,n);k.updateSelect();k.publishChanged()},updateSelection:function(o,j){var l=this,r=l.optionsJson.options,m=r[o],q=m.states,k=false,p,n;if(!m.selected){for(var i in r){if(r.hasOwnProperty(i)){r[i].selected=false}}m.selected=true}else{k=true}if(q){p=q["0"];n=q["1"];if(j){if(n.id===j){n.selected=true;p.selected=false}else{n.selected=false;p.selected=true}}else{if(k){if(n.selected){n.selected=false;p.selected=true}else{n.selected=true;p.selected=false}}}}return !k},updateVisibility:function(){var s=this,v=s.element.find(".sort-options"),w=s.optionsJson.sortLabelWidth,r=v.width()-w-16,z=s.optionsJson,n=z.options,u=z.order,y=u.length,m=z.totalWidth,x=false,j=0,p=y-s.options.minVisibleWithLabel,q=true,A,k;if(m<r){for(k in n){if(n.hasOwnProperty(k)){if(n[k].visible!==true){x=true}n[k].visible=true}}this.optionsJson.more=false}else{var B=false,o=m;for(A=y-1;A>=0;A=A-1){var l=n[u[A]];if(l.selected){if(l.visible!==true){x=true}l.visible=true}else{if(o<r){B=true}else{if(j===p){q=false;r=r+w;if(o<r){B=true}}}if(!B){o=o-l.width;j=j+1}if(q!==s.optionsJson.showSortLabel){s.optionsJson.showSortLabel=q;x=true}if(l.visible!==B){x=true;l.visible=B}}}this.optionsJson.more=true}return x},updateSortbar:function(i,k){var j=this;if(i){j.updateHtml(".sort-bar-container","contentsTemplate")}else{if(k){j.updateOptions()}}},updateOptions:function(){this.updateHtml(".sort-options","optionsTemplate")},updateHtml:function(m,i){var k=this,j=k.optionsJson,l=k.element.find(".more.open").length>0||false,n={options:k.getOptionsArray(),more:j.more,moreOpen:l,sortLabel:j.sortLabel,moreLabel:j.moreLabel,moreIcon:{name:"toggle180"},showSortLabel:j.showSortLabel};k.element.find(m).html(k[i](n))},updateSelect:function(){var j=this,i=j.getSelected();j.element.find("select").children('option[data-opt-id="'+i.id+'"]').attr("selected","selected")},getSelected:function(){var l={},i=this.optionsJson.options,k;for(var j in i){if(i.hasOwnProperty(j)){k=i[j];if(k.selected){l.group=k.group;if(k.states){l.id=k.states["1"].selected?k.states["1"].id:k.states["0"].id}else{l.id=k.id}}}}return l}};f.fn[e]=function(){var k,l,i,j;if(typeof arguments[0]==="object"){k=arguments[0];l=arguments[1];i=arguments[2];j=arguments[3]}else{k={};l=arguments[0];i=arguments[1];j=arguments[2]}return this.each(function(){if(!f.data(this,e)){f.data(this,e,new b(this,k))}if(typeof l==="string"){f.data(this,e)[l](i,j)}})};d.on(a,".responsive-sortbar .btn-sort",function(k){var i=f(k.target).closest(".btn-sort"),j=i.closest('[data-control="responsive-sortbar"]');j[e]("handleSortBar",i,"bar")});d.on(a,".responsive-sortbar .menu a",function(k){var i=f(k.target).closest("a"),j=i.closest('[data-control="responsive-sortbar"]');j[e]("handleSortBar",i,"menu")});d.on("change",'[data-control="responsive-sortbar"] select',function(k){var i=f(k.target),j=i.closest('[data-control="responsive-sortbar"]');j[e]("handleSelect",i)});uitk.mediaquery.register("(min-width: 481px)","uitk_sortbar");f("[data-control=responsive-sortbar]")[e]();uitk.modules.RespSortbar=b}(jQuery,window));(function(g,j,c){var i="uitk_country_code",f=g("body"),e=g("html"),m=false,b,a,d={triggerTemplateId:"#uitk-country-code-trigger-template",contentTemplateId:"#uitk-country-code-content-template"},l=uitk.clickEvent+"."+i,h=g("html").hasClass("lt-ie8");function k(o,p){var r,q,n;this.element=g(o);p=p||{};r=this.element.data()||{};this.options=g.extend(true,{},d,n,r,p);this.init()}k.prototype={constructor:k,init:function(){var o=this.element,n=this.options;if(!this.triggerTemplate){this.triggerTemplate=uitk.getCompiledTemplate(n.triggerTemplateId)}if(!this.contentTemplate){this.contentTemplate=uitk.getCompiledTemplate(n.contentTemplateId)}this.triggerId=o.attr("id")+"-trigger";this.contentId=o.attr("id")+"-content";this.$phoneField=g(a(o.data("target-id")));this.$phoneField.after(g(this.triggerTemplate({id:this.triggerId,contentId:"#"+this.contentId})));this.$trigger=g(a(this.triggerId));this.$trigger.uitk_tooltip("updateContent",g(this.getTooltipContent()));this.updateTooltipTrigger()},getTooltipContent:function(){var q=this.element,p=this,n=this.options,o={},r=[];o.contentId=this.contentId;o.selectId=q.attr("id");o.triggerId=this.triggerId;q.children("option").each(function(s){var v=g(this),u={};u.ccode=v.attr("value");u.countryAbbr=v.data("country-iso").toLowerCase();u.countryName=v.data("country-name");u.defaultOption=false;if(v.attr("selected")=="selected"&&(s>0)){u.defaultOption=true;r.unshift(u)}r.push(u)});o.options=r;return p.contentTemplate(o)},updateTooltipTrigger:function(){var n=this.element,o=n.find(":selected").data("country-iso").toLowerCase();this.$trigger.find(".cc-flag").attr("class","cc-flag "+o)}};g.fn[i]=function(){var o,p,n;if(typeof arguments[0]==="object"){o=arguments[0];p=arguments[1];n=arguments[2]}else{o={};p=arguments[0];n=arguments[1]}return this.each(function(){if(!g.data(this,i)){g.data(this,i,new k(this,o))}if(typeof p==="string"){g.data(this,i)[p](n)}})};b=function(r){var s=r.parents(".countries-flags"),o=g(a(s.data("trigger-id"))),p=g(a(s.data("select-id"))),u=r.data("country-iso"),q=r.find(".cc-flag").attr("class"),n=g(a(p.data("target-id")));p.children("option").removeAttr("selected");p.find('option[data-country-iso="'+u+'"]').attr("selected","selected");o.data("scrollPos",s.scrollTop());o.find(".cc-flag").attr("class",q);o.uitk_tooltip("hide");n.focus()};a=function(n){return"#"+n.replace(/(:|\.|\[|\])/g,"\\$1")};if(!h){g("select[data-control=country-code-select]")[i]();f.on(l,".cc-tooltip-item",function(n){n.preventDefault();b(g(this))});f.on("change",'[data-control="country-code-select"]',function(o){o.preventDefault();var n=g(o.target).closest('[data-control="country-code-select"]');n[i]("updateTooltipTrigger")})}uitk.modules.countryCode=k}(jQuery,window));(function(c,b,e){var a=c("#site-footer-wrap").find(".tablet-collapse");uitk.mediaquery.register("(min-width: 320px) and (max-width: 726px)","not-desktop");if(a){var d=function(f,g){if(g.key==="not-desktop"){c(a).uitk_toggle("close")}};uitk.subscribe("mediaquery.matched",d);uitk.mediaquery.publishAgain()}}(jQuery,window));(function(b,a,d){var c=function(s){var q=s.length,j;for(j=0;j<q;j++){var r=s.eq(j),e=r.next(),h=r.parent(),g=r.find("tr"),f=g.eq(0).find("th"),u,l=g.length,p=[];r.detach();if(r.data("tableInit")){return}r.data("tableInit",true);f.each(function(){p.push(b(this).text())});for(u=0;u<l;u++){var k=g.eq(u),v=k.find("td"),o,n=v.length;for(o=0;o<n;o++){var m=v.eq(o);m.attr("data-title",p[o])}}if(e.length>0){r.insertBefore(e)}else{r.appendTo(h)}}if(b("html").hasClass("ie9")&&b("table.data-table").hasClass("no-collapse")){b("table.data-table").wrap('<div class="data-table-wrapper" />')}};c(b("[data-control=table]"));uitk.initResponsiveTables=c}(jQuery,window));(function(g,i,b){var j,a,c,d,m,l=Modernizr.checkedselector;c=g(".on-off-switch");d=c.find("label input");m=function(n){d.removeClass("checked");c.find("input:checked").addClass("checked")};var h=function(n){return n.closest(c).find("input[type=radio]:checked").val()},k=function(n){return n.closest(c).find("input[type=radio]:checked").attr("name")},f=function(n){return n.closest("fieldset")};var e=function(n,q,o){var p={};p.name=q;p.value=o;uitk.publish("onOffSwitch.changed",n,p)};if(!l){c.find("input:checked").addClass("checked")}g("body").on(uitk.clickEvent,".on-off-switch input",function(n){a=g(n.currentTarget);j=a.closest("input");e(f(j),k(j),h(j));if(!l){m(a)}});uitk.modules.onOffSwitch={publishOnOffSwitchChange:e}}(jQuery,window));(function(g,h,c){var d,b,e=false,a=false,f=g("body"),i={modalId:"onpage-interstitial-modal",background:false,dismiss:false,jsTheme:"onpage-interstitial"};uitk.subscribe("results.changed",function(k,p){var o=p.appendMsg,n=p.replaceMsg,q=g(".modal-body"),m=g("#"+p.contentId);i.content=p.message;m.addClass("onpage-interstitial-results fade");if(e&&!o&&!n){d.updateContent(p.message)}if(!e&&!o&&!n){d=uitk.modal.create(i);if(!Modernizr.positionfixed){var l=g("#"+i.modalId);function j(){var r=(g(document).scrollTop()+90)/17+"em";l.css({position:"absolute",top:r})}j();uitk.subscribe("debounced.scroll",function(){j()})}e=true}else{if(o&&e){d.updateContent(q.html()+o)}if(n&&e){d.updateContent(n)}}if(p.scrollToTop){a=true}});uitk.subscribe("results.complete",function(j,k){b=g("#"+k.contentId);if(e){d.close();b.removeClass("fade");e=false;if(a){setTimeout(function(){h.scroll(0,0)},250);a=false}if(!Modernizr.positionfixed){uitk.unsubscribe("debounced.scroll")}}})}(jQuery,window));